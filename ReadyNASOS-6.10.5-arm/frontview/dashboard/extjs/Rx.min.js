!function(a,b){"object"==typeof exports&&"undefined"!=typeof module?b(exports):"function"==typeof define&&define.amd?define(["exports"],b):b(a.Rx=a.Rx||{})}(this,function(a){"use strict";function c(a,c){function d(){this.constructor=a}b(a,c),a.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}function k(a){return"function"==typeof a}function m(a){return null!=a&&"object"==typeof a}function p(){try{return o.apply(this,arguments)}catch(a){return n.e=a,n}}function q(a){return o=a,p}function t(a){return a.reduce(function(a,b){return a.concat(b instanceof r?b.errors:b)},[])}function z(a,b,c){if(a){if(a instanceof x)return a;if(a[w])return a[w]()}return a||b||c?new x(a,b,c):new x(u)}function A(a){var b,c=a.Symbol;return"function"==typeof c?c.observable?b=c.observable:(b=c("observable"),c.observable=b):b="@@observable",b}function C(){}function D(){var b,a=[];for(b=0;b<arguments.length;b++)a[b-0]=arguments[b];return E(a)}function E(a){return a?1===a.length?a[0]:function(b){return a.reduce(function(a,b){return b(a)},b)}:C}function N(a){var b=a.value,c=a.subject;c.next(b),c.complete()}function O(a){var b=a.err,c=a.subject;c.error(b)}function R(a){var k,l,b=this,c=a.source,d=a.subscriber,e=a.context,f=c,g=f.callbackFunc,h=f.args,i=f.scheduler,j=c.subject;j||(j=c.subject=new L,k=function m(){var c,d,e,f,g,h,j,a=[];for(c=0;c<arguments.length;c++)a[c-0]=arguments[c];d=m.source,e=d.selector,f=d.subject,g=a.shift(),g?b.add(i.schedule(T,0,{err:g,subject:f})):e?(h=q(e).apply(this,a),h===n?b.add(i.schedule(T,0,{err:n.e,subject:f})):b.add(i.schedule(S,0,{value:h,subject:f}))):(j=a.length<=1?a[0]:a,b.add(i.schedule(S,0,{value:j,subject:f})))},k.source=c,l=q(g).apply(e,h.concat(k)),l===n&&b.add(i.schedule(T,0,{err:n.e,subject:j}))),b.add(j.subscribe(d))}function S(a){var b=a.value,c=a.subject;c.next(b),c.complete()}function T(a){var b=a.err,c=a.subject;c.error(b)}function V(a){return a&&"function"==typeof a.schedule}function _(a){return a&&"function"!=typeof a.subscribe&&"function"==typeof a.then}function ab(a){var c,d,e,f,g,b=a.Symbol;if("function"==typeof b)return b.iterator||(b.iterator=b("iterator polyfill")),b.iterator;if(c=a.Set,c&&"function"==typeof(new c)["@@iterator"])return"@@iterator";if(d=a.Map)for(e=Object.getOwnPropertyNames(d.prototype),f=0;f<e.length;++f)if(g=e[f],"entries"!==g&&"size"!==g&&d.prototype[g]===d.prototype["entries"])return g;return"@@iterator"}function db(a,b,c,d){var f,g,h,i,k,l,n,e=new cb(a,c,d);if(e.closed)return null;if(b instanceof F)return b._isScalar?(e.next(b.value),e.complete(),null):(e.syncErrorThrowable=!0,b.subscribe(e));if($(b)){for(f=0,g=b.length;g>f&&!e.closed;f++)e.next(b[f]);e.closed||e.complete()}else{if(_(b))return b.then(function(a){e.closed||(e.next(a),e.complete())},function(a){return e.error(a)}).then(null,function(a){j.setTimeout(function(){throw a})}),e;if(b&&"function"==typeof b[bb])for(h=b[bb]();;){if(i=h.next(),i.done){e.complete();break}if(e.next(i.value),e.closed)break}else if(b&&"function"==typeof b[B]){if(k=b[B](),"function"==typeof k.subscribe)return k.subscribe(new cb(a,c,d));e.error(new TypeError("Provided object does not correctly implement Symbol.observable"))}else l=m(b)?"an invalid object":"'"+b+"'",n="You provided "+l+" where a stream was expected."+" You can provide an Observable, Promise, Array, or Iterable.",e.error(new TypeError(n))}return null}function fb(){var b,c,a=[];for(b=0;b<arguments.length;b++)a[b-0]=arguments[b];return c=null,"function"==typeof a[a.length-1]&&(c=a.pop()),1===a.length&&l(a[0])&&(a=a[0].slice()),function(b){return b.lift.call(new Y([b].concat(a)),new gb(c))}}function ib(){var b,c,d,a=[];for(b=0;b<arguments.length;b++)a[b-0]=arguments[b];return c=null,d=null,V(a[a.length-1])&&(d=a.pop()),"function"==typeof a[a.length-1]&&(c=a.pop()),1===a.length&&l(a[0])&&(a=a[0]),new Y(a,d).lift(new gb(c))}function lb(a){var b=a.value,c=a.subscriber;c.closed||(c.next(b),c.complete())}function mb(a){var b=a.err,c=a.subscriber;c.closed||c.error(b)}function qb(a){var b=a[bb];if(!b&&"string"==typeof a)return new ob(a);if(!b&&void 0!==a.length)return new pb(a);if(!b)throw new TypeError("object is not iterable");return a[bb]()}function sb(a){var b=+a.length;return isNaN(b)?0:0!==b&&tb(b)?(b=ub(b)*Math.floor(Math.abs(b)),0>=b?0:b>rb?rb:b):b}function tb(a){return"number"==typeof a&&j.isFinite(a)}function ub(a){var b=+a;return 0===b?b:isNaN(b)?b:0>b?-1:1}function xb(a,b){return void 0===b&&(b=0),function(c){return c.lift(new yb(a,b))}}function Db(a,b,c){return void 0===c&&(c=Number.POSITIVE_INFINITY),function(d){return"number"==typeof b&&(c=b,b=null),d.lift(new Eb(a,b,c))}}function Gb(a){return a}function Hb(a){return void 0===a&&(a=Number.POSITIVE_INFINITY),Db(Gb,null,a)}function Ib(){return Hb(1)}function Jb(){var b,a=[];for(b=0;b<arguments.length;b++)a[b-0]=arguments[b];return 1===a.length||2===a.length&&V(a[1])?Cb(a[0]):Ib()(jb.apply(void 0,a))}function Sb(a){return!!a&&"function"==typeof a.addListener&&"function"==typeof a.removeListener}function Tb(a){return!!a&&"function"==typeof a.on&&"function"==typeof a.off}function Ub(a){return!!a&&"[object NodeList]"===Rb.call(a)}function Vb(a){return!!a&&"[object HTMLCollection]"===Rb.call(a)}function Wb(a){return!!a&&"function"==typeof a.addEventListener&&"function"==typeof a.removeEventListener}function gc(a){return!l(a)&&a-parseFloat(a)+1>=0}function oc(){var b,c,d,e,a=[];for(b=0;b<arguments.length;b++)a[b-0]=arguments[b];return c=Number.POSITIVE_INFINITY,d=null,e=a[a.length-1],V(e)?(d=a.pop(),a.length>1&&"number"==typeof a[a.length-1]&&(c=a.pop())):"number"==typeof e&&(c=a.pop()),null===d&&1===a.length&&a[0]instanceof F?a[0]:Hb(c)(new Y(a,d))}function pc(){var b,a=[];for(b=0;b<arguments.length;b++)a[b-0]=arguments[b];if(1===a.length){if(!l(a[0]))return a[0];a=a[0]}return new Y(a).lift(new qc)}function uc(){var b,a=[];for(b=0;b<arguments.length;b++)a[b-0]=arguments[b];return 1===a.length&&l(a[0])&&(a=a[0]),function(b){return b.lift(new wc(a))}}function vc(){var b,c,a=[];for(b=0;b<arguments.length;b++)a[b-0]=arguments[b];return c=null,1===a.length&&l(a[0])&&(a=a[0]),c=a.shift(),new Bb(c,null).lift(new wc(a))}function zc(a){var g,b=a.obj,c=a.keys,d=a.length,e=a.index,f=a.subscriber;return e===d?(f.complete(),void 0):(g=c[e],f.next([g,b[g]]),a.index=e+1,this.schedule(a),void 0)}function Jc(a){return a instanceof Date&&!isNaN(+a)}function Mc(){var b,a=[];for(b=0;b<arguments.length;b++)a[b-0]=arguments[b];return function(b){return b.lift.call(Nc.apply(void 0,[b].concat(a)))}}function Nc(){var b,c,a=[];for(b=0;b<arguments.length;b++)a[b-0]=arguments[b];return c=a[a.length-1],"function"==typeof c&&a.pop(),new Y(a).lift(new Oc(c))}function Uc(a,b){return function(c){if("function"!=typeof a)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return c.lift(new Vc(a,b))}}function Xc(){if(j.XMLHttpRequest)return new j.XMLHttpRequest;if(j.XDomainRequest)return new j.XDomainRequest;throw new Error("CORS is not supported by your browser")}function Yc(){var a,b,c;if(j.XMLHttpRequest)return new j.XMLHttpRequest;a=void 0;try{for(b=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],c=0;3>c;c++)try{if(a=b[c],new j.ActiveXObject(a))break}catch(d){}return new j.ActiveXObject(a)}catch(d){throw new Error("XMLHttpRequest is not supported by your browser")}}function Zc(a,b){return void 0===b&&(b=null),new ed({method:"GET",url:a,headers:b})}function $c(a,b,c){return new ed({method:"POST",url:a,body:b,headers:c})}function _c(a,b){return new ed({method:"DELETE",url:a,headers:b})}function ad(a,b,c){return new ed({method:"PUT",url:a,body:b,headers:c})}function bd(a,b,c){return new ed({method:"PATCH",url:a,body:b,headers:c})}function dd(a,b){return cd(new ed({method:"GET",url:a,responseType:"json",headers:b}))}function id(a,b){switch(a){case"json":return"response"in b?b.responseType?b.response:JSON.parse(b.response||b.responseText||"null"):JSON.parse(b.responseText||"null");case"xml":return b.responseXML;case"text":default:return"response"in b?b.response:b.responseText}}function qd(a){var c,d,e,f,g,b=[];for(c=1;c<arguments.length;c++)b[c-1]=arguments[c];for(d=b.length,e=0;d>e;e++){f=b[e];for(g in f)f.hasOwnProperty(g)&&(a[g]=f[g])}return a}function rd(a){return a.Object.assign||qd}function vd(a){return function(b){return b.lift(new wd(a))}}function yd(a){return vd(a)(this)}function zd(a,b){return void 0===b&&(b=null),function(c){return c.lift(new Ad(a,b))}}function Dd(a,b){return void 0===b&&(b=null),zd(a,b)(this)}function Ed(a){var d,e,b=arguments.length,c=lc;return V(arguments[arguments.length-1])&&(c=arguments[arguments.length-1],b--),d=null,b>=2&&(d=arguments[1]),e=Number.POSITIVE_INFINITY,b>=3&&(e=arguments[2]),function(b){return b.lift(new Fd(a,d,e,c))}}function Id(a){var b=a.subscriber,c=a.context;c&&b.closeContext(c),b.closed||(a.context=b.openContext(),a.context.closeAction=this.schedule(a,a.bufferTimeSpan))}function Jd(a){var b=a.bufferCreationInterval,c=a.bufferTimeSpan,d=a.subscriber,e=a.scheduler,f=d.openContext(),g=this;d.closed||(d.add(f.closeAction=e.schedule(Kd,c,{subscriber:d,context:f})),g.schedule(a,b))}function Kd(a){var b=a.subscriber,c=a.context;b.closeContext(c)}function Ld(a){var d,e,b=arguments.length,c=lc;return V(arguments[arguments.length-1])&&(c=arguments[arguments.length-1],b--),d=null,b>=2&&(d=arguments[1]),e=Number.POSITIVE_INFINITY,b>=3&&(e=arguments[2]),Ed(a,d,e,c)(this)}function Md(a,b){return function(c){return c.lift(new Nd(a,b))}}function Pd(a,b){return Md(a,b)(this)}function Qd(a){return function(b){return b.lift(new Rd(a))}}function Td(a){return Qd(a)(this)}function Ud(a){return function(b){var c=new Vd(a),d=b.lift(c);return c.caught=d}}function Xd(a){return Ud(a)(this)}function Yd(a){return function(b){return b.lift(new gb(a))}}function Zd(a){return Yd(a)(this)}function $d(){var b,a=[];for(b=0;b<arguments.length;b++)a[b-0]=arguments[b];return fb.apply(void 0,a)(this)}function _d(){var b,a=[];for(b=0;b<arguments.length;b++)a[b-0]=arguments[b];return function(b){return b.lift.call(Jb.apply(void 0,[b].concat(a)))}}function ae(){var b,a=[];for(b=0;b<arguments.length;b++)a[b-0]=arguments[b];return _d.apply(void 0,a)(this)}function be(){return Ib()(this)}function ce(a,b){return Db(a,b,1)}function de(a,b){return ce(a,b)(this)}function ee(a,b){return ce(function(){return a},b)}function fe(a,b){return ee(a,b)(this)}function ge(a){return function(b){return b.lift(new he(a,b))}}function je(a){return ge(a)(this)}function ke(){return function(a){return a.lift(new le)}}function ne(){return ke()(this)}function oe(a){return function(b){return b.lift(new pe(a))}}function re(a){return oe(a)(this)}function se(a,b){return void 0===b&&(b=lc),function(c){return c.lift(new te(a,b))}}function ve(a){a.debouncedNext()}function we(a,b){return void 0===b&&(b=lc),se(a,b)(this)}function xe(a){return void 0===a&&(a=null),function(b){return b.lift(new ye(a))}}function Ae(a){return void 0===a&&(a=null),xe(a)(this)}function Be(a,b){var c,d;return void 0===b&&(b=lc),c=Jc(a),d=c?+a-b.now():Math.abs(a),function(a){return a.lift(new Ce(d,b))}}function Fe(a,b){return void 0===b&&(b=lc),Be(a,b)(this)}function Ge(a,b){return b?function(c){return new Je(c,b).lift(new He(a))}:function(b){return b.lift(new He(a))}}function Le(a,b){return Ge(a,b)(this)}function Me(){return function(){function a(){this._values=[]}return a.prototype.add=function(a){this.has(a)||this._values.push(a)},a.prototype.has=function(a){return-1!==this._values.indexOf(a)},Object.defineProperty(a.prototype,"size",{get:function(){return this._values.length},enumerable:!0,configurable:!0}),a.prototype.clear=function(){this._values.length=0},a}()}function Oe(a,b){return function(c){return c.lift(new Pe(a,b))}}function Re(a,b){return Oe(a,b)(this)}function Se(a,b){return function(c){return c.lift(new Te(a,b))}}function Ve(a,b){return Se(a,b)(this)}function We(a,b){return Se(function(c,d){return b?b(c[a],d[a]):c[a]===d[a]})}function Xe(a,b){return We(a,b)(this)}function Ye(a,b,c){return function(d){return d.lift(new Ze(a,b,c))}}function _e(a,b,c){return Ye(a,b,c)(this)}function af(){return function(a){return a.lift(new bf)}}function df(){return af()(this)}function ef(a,b){return function(c){return c.lift(new ff(a,b))}}function hf(a,b){return ef(a,b)(this)}function jf(a,b,c){return void 0===b&&(b=Number.POSITIVE_INFINITY),void 0===c&&(c=void 0),b=1>(b||0)?Number.POSITIVE_INFINITY:b,function(d){return d.lift(new kf(a,b,c))}}function mf(a,b,c){return void 0===b&&(b=Number.POSITIVE_INFINITY),void 0===c&&(c=void 0),b=1>(b||0)?Number.POSITIVE_INFINITY:b,jf(a,b,c)(this)}function of(a,b){return function(c){return c.lift(new pf(a,b))}}function rf(a,b){return of(a,b)(this)}function sf(a,b){return function(c){return c.lift(new tf(a,b))}}function vf(a,b){return sf(a,b)(this)}function wf(a){return function(b){return b.lift(new xf(a))}}function zf(a){return wf(a)(this)}function Af(a,b){if("function"!=typeof a)throw new TypeError("predicate is not a function");return function(c){return c.lift(new Bf(a,c,!1,b))}}function Df(a,b){return Af(a,b)(this)}function Ef(a,b){return function(c){return c.lift(new Bf(a,c,!0,b))}}function Ff(a,b){return Ef(a,b)(this)}function Hf(a,b,c){return function(d){return d.lift(new If(a,b,c,d))}}function Kf(a,b,c){return Hf(a,b,c)(this)}function Of(a,b,c,d){return function(e){return e.lift(new Pf(a,b,c,d))}}function Uf(a,b,c,d){return Of(a,b,c,d)(this)}function Vf(){return function(a){return a.lift(new Wf)}}function Yf(){return Vf()(this)}function Zf(){return function(a){return a.lift(new $f)}}function ag(){return Zf()(this)}function bg(a){return function(b){return b.lift(new cg(a))}}function eg(a){return bg(a)(this)}function fg(a,b){return void 0===b&&(b=lc),bg(function(){return Lc(a,b)})}function gg(a,b){return void 0===b&&(b=lc),fg(a,b)(this)}function hg(a,b,c){return function(d){return d.lift(new ig(a,b,c,d))}}function kg(a,b,c){return hg(a,b,c)(this)}function lg(a){return a(this)}function mg(a,b){return function(c){return c.lift(new ng(a,b,c))}}function pg(a,b){return mg(a,b)(this)}function qg(a,b){return Uc(a,b)(this)}function rg(a){return function(b){return b.lift(new sg(a))}}function ug(a){return rg(a)(this)}function vg(){return function(a){return a.lift(new wg)}}function yg(){return vg()(this)}function zg(a,b){var c=!1;return arguments.length>=2&&(c=!0),function(d){return d.lift(new Ag(a,b,c))}}function Cg(a){return function(b){return 0===a?new X:b.lift(new Dg(a))}}function Fg(a,b){return arguments.length>=2?function(c){return D(zg(a,b),Cg(1),xe(b))(c)}:function(b){return D(zg(function(b,c,d){return a(b,c,d+1)}),Cg(1))(b)}}function Gg(a){var b="function"==typeof a?function(b,c){return a(b,c)>0?b:c}:function(a,b){return a>b?a:b};return Fg(b)}function Hg(a){return Gg(a)(this)}function Ig(){var b,a=[];for(b=0;b<arguments.length;b++)a[b-0]=arguments[b];return function(b){return b.lift.call(oc.apply(void 0,[b].concat(a)))}}function Jg(){var b,a=[];for(b=0;b<arguments.length;b++)a[b-0]=arguments[b];return Ig.apply(void 0,a)(this)}function Kg(a){return void 0===a&&(a=Number.POSITIVE_INFINITY),Hb(a)(this)}function Lg(a,b,c){return void 0===c&&(c=Number.POSITIVE_INFINITY),Db(a,b,c)(this)}function Mg(a,b,c){return void 0===c&&(c=Number.POSITIVE_INFINITY),"number"==typeof b&&(c=b,b=null),function(d){return d.lift(new Ng(a,b,c))}}function Pg(a,b,c){return void 0===c&&(c=Number.POSITIVE_INFINITY),Mg(a,b,c)(this)}function Qg(a,b,c){return void 0===c&&(c=Number.POSITIVE_INFINITY),function(d){return d.lift(new Rg(a,b,c))}}function Tg(a,b,c){return void 0===c&&(c=Number.POSITIVE_INFINITY),Qg(a,b,c)(this)}function Ug(a){var b="function"==typeof a?function(b,c){return a(b,c)<0?b:c}:function(a,b){return b>a?a:b};return Fg(b)}function Vg(a){return Ug(a)(this)}function Wg(){return function(a){return a.lift(new Xg(a))}}function ch(a,b){return function(c){var d,e;return d="function"==typeof a?a:function(){return a},"function"==typeof b?c.lift(new dh(d,b)):(e=Object.create(c,_g),e.source=c,e.subjectFactory=d,e)}}function eh(a,b){return ch(a,b)(this)}function fh(a,b){return void 0===b&&(b=0),xb(a,b)(this)}function gh(){var b,a=[];for(b=0;b<arguments.length;b++)a[b-0]=arguments[b];return uc.apply(void 0,a)(this)}function hh(){return function(a){return a.lift(new ih)}}function kh(){return hh()(this)}function lh(a,b){function c(){return!c.pred.apply(c.thisArg,arguments)}return c.pred=a,c.thisArg=b,c}function mh(a,b){return function(c){return[sf(a,b)(c),sf(lh(a,b))(c)]}}function nh(a,b){return mh(a,b)(this)}function oh(){var b,c,a=[];for(b=0;b<arguments.length;b++)a[b-0]=arguments[b];if(c=a.length,0===c)throw new Error("list of properties cannot be empty.");return function(b){return Uc(ph(a,c))(b)}}function ph(a,b){var c=function(c){var e,f,d=c;for(e=0;b>e;e++){if(f=d[a[e]],"undefined"==typeof f)return void 0;d=f}return d};return c}function qh(){var b,a=[];for(b=0;b<arguments.length;b++)a[b-0]=arguments[b];return oh.apply(void 0,a)(this)}function rh(a){return a?ch(function(){return new J},a):ch(new J)}function sh(a){return rh(a)(this)}function uh(a){return function(b){return ch(new th(a))(b)}}function vh(a){return uh(a)(this)}function wh(a,b,c,d){var e,f;return c&&"function"!=typeof c&&(d=c),e="function"==typeof c?c:void 0,f=new od(a,b,d),function(a){return ch(function(){return f},e)(a)}}function xh(a,b,c,d){return wh(a,b,c,d)(this)}function yh(){return function(a){return ch(new L)(a)}}function zh(){return yh()(this)}function Ah(){var b,a=[];for(b=0;b<arguments.length;b++)a[b-0]=arguments[b];return function(b){return 1===a.length&&l(a[0])&&(a=a[0]),b.lift.call(pc.apply(void 0,[b].concat(a)))}}function Bh(){var b,a=[];for(b=0;b<arguments.length;b++)a[b-0]=arguments[b];return Ah.apply(void 0,a)(this)}function Ch(a,b){return arguments.length>=2?Fg(a,b)(this):Fg(a)(this)}function Dh(a){return void 0===a&&(a=-1),function(b){return 0===a?new X:0>a?b.lift(new Eh(-1,b)):b.lift(new Eh(a-1,b))}}function Gh(a){return void 0===a&&(a=-1),Dh(a)(this)}function Hh(a){return function(b){return b.lift(new Ih(a))}}function Kh(a){return Hh(a)(this)}function Lh(a){return void 0===a&&(a=-1),function(b){return b.lift(new Mh(a,b))}}function Oh(a){return void 0===a&&(a=-1),Lh(a)(this)}function Ph(a){return function(b){return b.lift(new Qh(a,b))}}function Sh(a){return Ph(a)(this)}function Th(a){return function(b){return b.lift(new Uh(a))}}function Wh(a){return Th(a)(this)}function Xh(a,b){return void 0===b&&(b=lc),function(c){return c.lift(new Yh(a,b))}}function $h(a){var b=a.subscriber,c=a.period;b.notifyNext(),this.schedule(a,c)}function _h(a,b){return void 0===b&&(b=lc),Xh(a,b)(this)}function ai(a,b){return arguments.length>=2?zg(a,b)(this):zg(a)(this)}function bi(a,b){return function(c){return c.lift(new ci(a,b))}}function fi(a,b){return bi(a,b)(this)}function gi(){return new J}function hi(){return function(a){return Wg()(ch(gi)(a))}}function ii(){return hi()(this)}function ji(a,b,c){return function(d){return d.lift(ki(a,b,c))}}function ki(a,b,c){var d,f,e=0,g=!1,h=!1;return function(i){e++,(!d||g)&&(g=!1,d=new od(a,b,c),f=i.subscribe({next:function(a){d.next(a)},error:function(a){g=!0,d.error(a)},complete:function(){h=!0,d.complete()}}));var j=d.subscribe(this);return function(){e--,j.unsubscribe(),f&&0===e&&h&&f.unsubscribe()}}}function li(a,b,c){return ji(a,b,c)(this)}function mi(a){return function(b){return b.lift(new ni(a,b))}}function pi(a){return mi(a)(this)}function qi(a){return function(b){return b.lift(new ri(a))}}function ti(a){return qi(a)(this)}function ui(a){return function(b){return b.lift(new vi(a))}}function xi(a){return ui(a)(this)}function yi(a){return function(b){return b.lift(new zi(a))}}function Bi(a){return yi(a)(this)}function Ci(a){return function(b){return b.lift(new Di(a))}}function Fi(a){return Ci(a)(this)}function Gi(){var b,a=[];for(b=0;b<arguments.length;b++)a[b-0]=arguments[b];return function(b){var d,c=a[a.length-1];return V(c)?a.pop():c=null,d=a.length,1===d?Jb(new W(a[0],c),b):d>1?Jb(new Y(a,c),b):Jb(new X(c),b)}}function Hi(){var b,a=[];for(b=0;b<arguments.length;b++)a[b-0]=arguments[b];return Gi.apply(void 0,a)(this)}function Oi(a,b){return void 0===b&&(b=0),function(c){return c.lift(new Pi(a,b))}}function Qi(a,b){return void 0===b&&(b=0),Oi(a,b)(this)}function Ri(a,b){return function(c){return c.lift(new Si(a,b))}}function Ui(){return Ri(Gb)}function Vi(){return Ui()(this)}function Wi(a,b){return Ri(a,b)(this)}function Xi(a,b){return function(c){return c.lift(new Yi(a,b))}}function $i(a,b){return Xi(a,b)(this)}function _i(a){return function(b){return 0===a?new X:b.lift(new aj(a))}}function cj(a){return _i(a)(this)}function dj(a){return Cg(a)(this)}function ej(a){return function(b){return b.lift(new fj(a))}}function hj(a){return ej(a)(this)}function ij(a){return function(b){return b.lift(new jj(a))}}function lj(a){return ij(a)(this)}function nj(a,b){return void 0===b&&(b=mj),function(c){return c.lift(new oj(a,b.leading,b.trailing))}}function qj(a,b){return void 0===b&&(b=mj),nj(a,b)(this)}function rj(a,b,c){return void 0===b&&(b=lc),void 0===c&&(c=mj),function(d){return d.lift(new sj(a,b,c.leading,c.trailing))}}function uj(a){var b=a.subscriber;b.clearThrottle()}function vj(a,b,c){return void 0===b&&(b=lc),void 0===c&&(c=mj),rj(a,b,c)(this)}function wj(a){return void 0===a&&(a=lc),function(b){return b.lift(new yj(a))}}function Aj(a){return void 0===a&&(a=lc),wj(a)(this)}function Cj(a,b){var c,d;return void 0===b&&(b=lc),c=Jc(a),d=c?+a-b.now():Math.abs(a),function(a){return a.lift(new Dj(d,c,b,new Bj))}}function Fj(a,b){return void 0===b&&(b=lc),Cj(a,b)(this)}function Gj(a,b,c){return void 0===c&&(c=lc),function(d){var e=Jc(a),f=e?+a-c.now():Math.abs(a);return d.lift(new Hj(f,e,b,c))}}function Jj(a,b,c){return void 0===c&&(c=lc),Gj(a,b,c)(this)}function Kj(a){return void 0===a&&(a=lc),Uc(function(b){return new Lj(b,a.now())})}function Mj(a){return void 0===a&&(a=lc),Kj(a)(this)}function Nj(a,b){return a.push(b),a}function Oj(){return Fg(Nj,[])}function Pj(){return Oj()(this)}function Qj(a){return function(b){return b.lift(new Rj(a))}}function Tj(a){return Qj(a)(this)}function Uj(a,b){return void 0===b&&(b=0),function(c){return c.lift(new Vj(a,b))}}function Xj(a,b){return void 0===b&&(b=0),Uj(a,b)(this)}function Yj(a){var b=lc,c=null,d=Number.POSITIVE_INFINITY;return V(arguments[3])&&(b=arguments[3]),V(arguments[2])?b=arguments[2]:gc(arguments[2])&&(d=arguments[2]),V(arguments[1])?b=arguments[1]:gc(arguments[1])&&(c=arguments[1]),function(e){return e.lift(new Zj(a,c,d,b))}}function ak(a){var b=a.subscriber,c=a.windowTimeSpan,d=a.window;d&&b.closeWindow(d),a.window=b.openWindow(),this.schedule(a,c)}function bk(a){var b=a.windowTimeSpan,c=a.subscriber,d=a.scheduler,e=a.windowCreationInterval,f=c.openWindow(),g=this,h={action:g,subscription:null},i={subscriber:c,window:f,context:h};h.subscription=d.schedule(ck,b,i),g.add(h.subscription),g.schedule(a,e)}function ck(a){var b=a.subscriber,c=a.window,d=a.context;d&&d.action&&d.subscription&&d.action.remove(d.subscription),b.closeWindow(c)}function dk(a){var b=lc,c=null,d=Number.POSITIVE_INFINITY;return V(arguments[3])&&(b=arguments[3]),V(arguments[2])?b=arguments[2]:gc(arguments[2])&&(d=arguments[2]),V(arguments[1])?b=arguments[1]:gc(arguments[1])&&(c=arguments[1]),Yj(a,c,d,b)(this)}function ek(a,b){return function(c){return c.lift(new fk(a,b))}}function hk(a,b){return ek(a,b)(this)}function ik(a){return function(b){return b.lift(new jk(a))}}function lk(a){return ik(a)(this)}function mk(){var b,a=[];for(b=0;b<arguments.length;b++)a[b-0]=arguments[b];return function(b){var c,d;return"function"==typeof a[a.length-1]&&(c=a.pop()),d=a,b.lift(new nk(d,c))}}function pk(){var b,a=[];for(b=0;b<arguments.length;b++)a[b-0]=arguments[b];return mk.apply(void 0,a)(this)}function qk(){var b,a=[];for(b=0;b<arguments.length;b++)a[b-0]=arguments[b];return Mc.apply(void 0,a)(this)}function rk(a){return function(b){return b.lift(new Oc(a))}}function sk(a){return rk(a)(this)}function vk(a,b){var c,d,e,f,g,h,i;for(c=0,d=b.length;d>c;c++)for(e=b[c],f=Object.getOwnPropertyNames(e.prototype),g=0,h=f.length;h>g;g++)i=f[g],a.prototype[i]=e.prototype[i]}var l,n,o,r,s,u,v,w,x,y,B,F,G,H,I,J,K,L,M,P,Q,U,W,X,Y,Z,$,bb,cb,eb,gb,hb,jb,kb,nb,ob,pb,rb,vb,wb,yb,zb,Ab,Bb,Cb,Eb,Fb,Kb,Lb,Mb,Nb,Ob,Pb,Qb,Rb,Xb,Yb,Zb,$b,_b,ac,bc,cc,dc,ec,fc,hc,ic,jc,kc,lc,mc,nc,qc,rc,sc,tc,wc,xc,yc,Ac,Bc,Cc,Dc,Ec,Fc,Gc,Hc,Ic,Kc,Lc,Oc,Pc,Qc,Rc,Sc,Tc,Vc,Wc,cd,ed,fd,gd,hd,jd,kd,ld,md,nd,od,pd,sd,td,ud,wd,xd,Ad,Bd,Cd,Fd,Gd,Hd,Nd,Od,Rd,Sd,Vd,Wd,he,ie,le,me,pe,qe,te,ue,ye,ze,Ce,De,Ee,He,Ie,Je,Ke,Ne,Pe,Qe,Te,Ue,Ze,$e,bf,cf,ff,gf,kf,lf,nf,pf,qf,tf,uf,xf,yf,Bf,Cf,Gf,If,Jf,Lf,Mf,Nf,Pf,Qf,Rf,Sf,Tf,Wf,Xf,$f,_f,cg,dg,ig,jg,ng,og,sg,tg,wg,xg,Ag,Bg,Dg,Eg,Ng,Og,Rg,Sg,Xg,Yg,Zg,$g,_g,ah,dh,ih,jh,th,Eh,Fh,Ih,Jh,Mh,Nh,Qh,Rh,Uh,Vh,Yh,Zh,ci,di,ei,ni,oi,ri,si,vi,wi,zi,Ai,Di,Ei,Ii,Ji,Ki,Li,Mi,Ni,Pi,Si,Ti,Yi,Zi,aj,bj,fj,gj,jj,kj,mj,oj,pj,sj,tj,xj,yj,zj,Bj,Dj,Ej,Hj,Ij,Lj,Rj,Sj,Vj,Wj,Zj,$j,_j,fk,gk,jk,kk,nk,ok,tk,uk,wk,xk,yk,zk,Ak,Bk,Ck,Dk,Ek,Fk,Gk,Hk,Ik,Jk,Kk,b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])},g="undefined"!=typeof window&&window,h="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,i="undefined"!=typeof global&&global,j=g||i||h;!function(){if(!j)throw new Error("RxJS could not find any global context (window, self, global)")}(),l=Array.isArray||function(a){return a&&"number"==typeof a.length},n={e:{}},r=function(a){function b(b){a.call(this),this.errors=b;var c=Error.call(this,b?b.length+" errors occurred during unsubscription:\n  "+b.map(function(a,b){return b+1+") "+a.toString()}).join("\n  "):"");this.name=c.name="UnsubscriptionError",this.stack=c.stack,this.message=c.message}return c(b,a),b}(Error),s=function(){function a(a){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,a&&(this._unsubscribe=a)}return a.prototype.unsubscribe=function(){var b,c,d,e,f,g,h,i,j,o,p,a=!1;if(!this.closed){for(c=this,d=c._parent,e=c._parents,f=c._unsubscribe,g=c._subscriptions,this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null,h=-1,i=e?e.length:0;d;)d.remove(this),d=++h<i&&e[h]||null;if(k(f)&&(j=q(f).call(this),j===n&&(a=!0,b=b||(n.e instanceof r?t(n.e.errors):[n.e]))),l(g))for(h=-1,i=g.length;++h<i;)o=g[h],m(o)&&(j=q(o.unsubscribe).call(o),j===n&&(a=!0,b=b||[],p=n.e,p instanceof r?b=b.concat(t(p.errors)):b.push(p)));if(a)throw new r(b)}},a.prototype.add=function(b){var c,d,e;if(!b||b===a.EMPTY)return a.EMPTY;if(b===this)return this;switch(c=b,typeof b){case"function":c=new a(b);case"object":if(c.closed||"function"!=typeof c.unsubscribe)return c;if(this.closed)return c.unsubscribe(),c;"function"!=typeof c._addParent&&(d=c,c=new a,c._subscriptions=[d]);break;default:throw new Error("unrecognized teardown "+b+" added to Subscription.")}return e=this._subscriptions||(this._subscriptions=[]),e.push(c),c._addParent(this),c},a.prototype.remove=function(a){var c,b=this._subscriptions;b&&(c=b.indexOf(a),-1!==c&&b.splice(c,1))},a.prototype._addParent=function(a){var b=this,c=b._parent,d=b._parents;c&&c!==a?d?-1===d.indexOf(a)&&d.push(a):this._parents=[a]:this._parent=a},a.EMPTY=function(a){return a.closed=!0,a}(new a),a}(),u={closed:!0,next:function(){},error:function(a){throw a},complete:function(){}},v=j.Symbol,w="function"==typeof v&&"function"==typeof v.for?v.for("rxSubscriber"):"@@rxSubscriber",x=function(a){function b(c,d,e){switch(a.call(this),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=u;break;case 1:if(!c){this.destination=u;break}if("object"==typeof c){c instanceof b?(this.syncErrorThrowable=c.syncErrorThrowable,this.destination=c,this.destination.add(this)):(this.syncErrorThrowable=!0,this.destination=new y(this,c));break}default:this.syncErrorThrowable=!0,this.destination=new y(this,c,d,e)}}return c(b,a),b.prototype[w]=function(){return this},b.create=function(a,c,d){var e=new b(a,c,d);return e.syncErrorThrowable=!1,e},b.prototype.next=function(a){this.isStopped||this._next(a)},b.prototype.error=function(a){this.isStopped||(this.isStopped=!0,this._error(a))},b.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},b.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,a.prototype.unsubscribe.call(this))},b.prototype._next=function(a){this.destination.next(a)},b.prototype._error=function(a){this.destination.error(a),this.unsubscribe()},b.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},b.prototype._unsubscribeAndRecycle=function(){var a=this,b=a._parent,c=a._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=b,this._parents=c,this},b}(s),y=function(a){function b(b,c,d,e){var f,g;a.call(this),this._parentSubscriber=b,g=this,k(c)?f=c:c&&(f=c.next,d=c.error,e=c.complete,c!==u&&(g=Object.create(c),k(g.unsubscribe)&&this.add(g.unsubscribe.bind(g)),g.unsubscribe=this.unsubscribe.bind(this))),this._context=g,this._next=f,this._error=d,this._complete=e}return c(b,a),b.prototype.next=function(a){if(!this.isStopped&&this._next){var b=this._parentSubscriber;b.syncErrorThrowable?this.__tryOrSetError(b,this._next,a)&&this.unsubscribe():this.__tryOrUnsub(this._next,a)}},b.prototype.error=function(a){if(!this.isStopped){var b=this._parentSubscriber;if(this._error)b.syncErrorThrowable?(this.__tryOrSetError(b,this._error,a),this.unsubscribe()):(this.__tryOrUnsub(this._error,a),this.unsubscribe());else{if(!b.syncErrorThrowable)throw this.unsubscribe(),a;b.syncErrorValue=a,b.syncErrorThrown=!0,this.unsubscribe()}}},b.prototype.complete=function(){var b,c,a=this;this.isStopped||(b=this._parentSubscriber,this._complete?(c=function(){return a._complete.call(a._context)},b.syncErrorThrowable?(this.__tryOrSetError(b,c),this.unsubscribe()):(this.__tryOrUnsub(c),this.unsubscribe())):this.unsubscribe())},b.prototype.__tryOrUnsub=function(a,b){try{a.call(this._context,b)}catch(c){throw this.unsubscribe(),c}},b.prototype.__tryOrSetError=function(a,b,c){try{b.call(this._context,c)}catch(d){return a.syncErrorValue=d,a.syncErrorThrown=!0,!0}return!1},b.prototype._unsubscribe=function(){var a=this._parentSubscriber;this._context=null,this._parentSubscriber=null,a.unsubscribe()},b}(x),B=A(j),F=function(){function a(a){this._isScalar=!1,a&&(this._subscribe=a)}return a.prototype.lift=function(b){var c=new a;return c.source=this,c.operator=b,c},a.prototype.subscribe=function(a,b,c){var d=this.operator,e=z(a,b,c);if(d?d.call(e,this.source):e.add(this.source||!e.syncErrorThrowable?this._subscribe(e):this._trySubscribe(e)),e.syncErrorThrowable&&(e.syncErrorThrowable=!1,e.syncErrorThrown))throw e.syncErrorValue;return e},a.prototype._trySubscribe=function(a){try{return this._subscribe(a)}catch(b){a.syncErrorThrown=!0,a.syncErrorValue=b,a.error(b)}},a.prototype.forEach=function(a,b){var c=this;if(b||(j.Rx&&j.Rx.config&&j.Rx.config.Promise?b=j.Rx.config.Promise:j.Promise&&(b=j.Promise)),!b)throw new Error("no Promise impl found");return new b(function(b,d){var e;e=c.subscribe(function(b){if(e)try{a(b)}catch(c){d(c),e.unsubscribe()}else a(b)},d,b)})},a.prototype._subscribe=function(a){return this.source.subscribe(a)},a.prototype[B]=function(){return this},a.prototype.pipe=function(){var b,a=[];for(b=0;b<arguments.length;b++)a[b-0]=arguments[b];return 0===a.length?this:E(a)(this)},a.prototype.toPromise=function(a){var b=this;if(a||(j.Rx&&j.Rx.config&&j.Rx.config.Promise?a=j.Rx.config.Promise:j.Promise&&(a=j.Promise)),!a)throw new Error("no Promise impl found");return new a(function(a,c){var d;b.subscribe(function(a){return d=a},function(a){return c(a)},function(){return a(d)})})},a.create=function(b){return new a(b)},a}(),G=function(a){function b(){var b=a.call(this,"object unsubscribed");this.name=b.name="ObjectUnsubscribedError",this.stack=b.stack,this.message=b.message
}return c(b,a),b}(Error),H=function(a){function b(b,c){a.call(this),this.subject=b,this.subscriber=c,this.closed=!1}return c(b,a),b.prototype.unsubscribe=function(){var a,b,c;this.closed||(this.closed=!0,a=this.subject,b=a.observers,this.subject=null,!b||0===b.length||a.isStopped||a.closed||(c=b.indexOf(this.subscriber),-1!==c&&b.splice(c,1)))},b}(s),I=function(a){function b(b){a.call(this,b),this.destination=b}return c(b,a),b}(x),J=function(a){function b(){a.call(this),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}return c(b,a),b.prototype[w]=function(){return new I(this)},b.prototype.lift=function(a){var b=new K(this,this);return b.operator=a,b},b.prototype.next=function(a){var b,c,d,e;if(this.closed)throw new G;if(!this.isStopped)for(b=this.observers,c=b.length,d=b.slice(),e=0;c>e;e++)d[e].next(a)},b.prototype.error=function(a){var b,c,d,e;if(this.closed)throw new G;for(this.hasError=!0,this.thrownError=a,this.isStopped=!0,b=this.observers,c=b.length,d=b.slice(),e=0;c>e;e++)d[e].error(a);this.observers.length=0},b.prototype.complete=function(){var a,b,c,d;if(this.closed)throw new G;for(this.isStopped=!0,a=this.observers,b=a.length,c=a.slice(),d=0;b>d;d++)c[d].complete();this.observers.length=0},b.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},b.prototype._trySubscribe=function(b){if(this.closed)throw new G;return a.prototype._trySubscribe.call(this,b)},b.prototype._subscribe=function(a){if(this.closed)throw new G;return this.hasError?(a.error(this.thrownError),s.EMPTY):this.isStopped?(a.complete(),s.EMPTY):(this.observers.push(a),new H(this,a))},b.prototype.asObservable=function(){var a=new F;return a.source=this,a},b.create=function(a,b){return new K(a,b)},b}(F),K=function(a){function b(b,c){a.call(this),this.destination=b,this.source=c}return c(b,a),b.prototype.next=function(a){var b=this.destination;b&&b.next&&b.next(a)},b.prototype.error=function(a){var b=this.destination;b&&b.error&&this.destination.error(a)},b.prototype.complete=function(){var a=this.destination;a&&a.complete&&this.destination.complete()},b.prototype._subscribe=function(a){var b=this.source;return b?this.source.subscribe(a):s.EMPTY},b}(J),L=function(a){function b(){a.apply(this,arguments),this.value=null,this.hasNext=!1,this.hasCompleted=!1}return c(b,a),b.prototype._subscribe=function(b){return this.hasError?(b.error(this.thrownError),s.EMPTY):this.hasCompleted&&this.hasNext?(b.next(this.value),b.complete(),s.EMPTY):a.prototype._subscribe.call(this,b)},b.prototype.next=function(a){this.hasCompleted||(this.value=a,this.hasNext=!0)},b.prototype.error=function(b){this.hasCompleted||a.prototype.error.call(this,b)},b.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&a.prototype.next.call(this,this.value),a.prototype.complete.call(this)},b}(J),M=function(a){function b(b,c,d,e,f){a.call(this),this.callbackFunc=b,this.selector=c,this.args=d,this.context=e,this.scheduler=f}return c(b,a),b.create=function(a,c,d){return void 0===c&&(c=void 0),function(){var f,e=[];for(f=0;f<arguments.length;f++)e[f-0]=arguments[f];return new b(a,c,e,this,d)}},b.prototype._subscribe=function(a){var g,h,c=this.callbackFunc,d=this.args,e=this.scheduler,f=this.subject;return e?e.schedule(b.dispatch,0,{source:this,subscriber:a,context:this.context}):(f||(f=this.subject=new L,g=function i(){var b,c,d,e,f,a=[];for(b=0;b<arguments.length;b++)a[b-0]=arguments[b];c=i.source,d=c.selector,e=c.subject,d?(f=q(d).apply(this,a),f===n?e.error(n.e):(e.next(f),e.complete())):(e.next(a.length<=1?a[0]:a),e.complete())},g.source=this,h=q(c).apply(this.context,d.concat(g)),h===n&&f.error(n.e)),f.subscribe(a))},b.dispatch=function(a){var j,k,b=this,c=a.source,d=a.subscriber,e=a.context,f=c.callbackFunc,g=c.args,h=c.scheduler,i=c.subject;i||(i=c.subject=new L,j=function l(){var c,d,e,f,g,i,a=[];for(c=0;c<arguments.length;c++)a[c-0]=arguments[c];d=l.source,e=d.selector,f=d.subject,e?(g=q(e).apply(this,a),g===n?b.add(h.schedule(O,0,{err:n.e,subject:f})):b.add(h.schedule(N,0,{value:g,subject:f}))):(i=a.length<=1?a[0]:a,b.add(h.schedule(N,0,{value:i,subject:f})))},j.source=c,k=q(f).apply(e,g.concat(j)),k===n&&i.error(n.e)),b.add(i.subscribe(d))},b}(F),P=M.create,F.bindCallback=P,Q=function(a){function b(b,c,d,e,f){a.call(this),this.callbackFunc=b,this.selector=c,this.args=d,this.context=e,this.scheduler=f}return c(b,a),b.create=function(a,c,d){return void 0===c&&(c=void 0),function(){var f,e=[];for(f=0;f<arguments.length;f++)e[f-0]=arguments[f];return new b(a,c,e,this,d)}},b.prototype._subscribe=function(a){var f,g,b=this.callbackFunc,c=this.args,d=this.scheduler,e=this.subject;return d?d.schedule(R,0,{source:this,subscriber:a,context:this.context}):(e||(e=this.subject=new L,f=function h(){var b,c,d,e,f,g,a=[];for(b=0;b<arguments.length;b++)a[b-0]=arguments[b];c=h.source,d=c.selector,e=c.subject,f=a.shift(),f?e.error(f):d?(g=q(d).apply(this,a),g===n?e.error(n.e):(e.next(g),e.complete())):(e.next(a.length<=1?a[0]:a),e.complete())},f.source=this,g=q(b).apply(this.context,c.concat(f)),g===n&&e.error(n.e)),e.subscribe(a))},b}(F),U=Q.create,F.bindNodeCallback=U,W=function(a){function b(b,c){a.call(this),this.value=b,this.scheduler=c,this._isScalar=!0,c&&(this._isScalar=!1)}return c(b,a),b.create=function(a,c){return new b(a,c)},b.dispatch=function(a){var b=a.done,c=a.value,d=a.subscriber;return b?(d.complete(),void 0):(d.next(c),d.closed||(a.done=!0,this.schedule(a)),void 0)},b.prototype._subscribe=function(a){var c=this.value,d=this.scheduler;return d?d.schedule(b.dispatch,0,{done:!1,value:c,subscriber:a}):(a.next(c),a.closed||a.complete(),void 0)},b}(F),X=function(a){function b(b){a.call(this),this.scheduler=b}return c(b,a),b.create=function(a){return new b(a)},b.dispatch=function(a){var b=a.subscriber;b.complete()},b.prototype._subscribe=function(a){var c=this.scheduler;return c?c.schedule(b.dispatch,0,{subscriber:a}):(a.complete(),void 0)},b}(F),Y=function(a){function b(b,c){a.call(this),this.array=b,this.scheduler=c,c||1!==b.length||(this._isScalar=!0,this.value=b[0])}return c(b,a),b.create=function(a,c){return new b(a,c)},b.of=function(){var c,d,e,a=[];for(c=0;c<arguments.length;c++)a[c-0]=arguments[c];return d=a[a.length-1],V(d)?a.pop():d=null,e=a.length,e>1?new b(a,d):1===e?new W(a[0],d):new X(d)},b.dispatch=function(a){var b=a.array,c=a.index,d=a.count,e=a.subscriber;return c>=d?(e.complete(),void 0):(e.next(b[c]),e.closed||(a.index=c+1,this.schedule(a)),void 0)},b.prototype._subscribe=function(a){var g,c=0,d=this.array,e=d.length,f=this.scheduler;if(f)return f.schedule(b.dispatch,0,{array:d,index:c,count:e,subscriber:a});for(g=0;e>g&&!a.closed;g++)a.next(d[g]);a.complete()},b}(F),Z=function(a){function b(){a.apply(this,arguments)}return c(b,a),b.prototype.notifyNext=function(a,b){this.destination.next(b)},b.prototype.notifyError=function(a){this.destination.error(a)},b.prototype.notifyComplete=function(){this.destination.complete()},b}(x),$=function(a){return a&&"number"==typeof a.length},bb=ab(j),cb=function(a){function b(b,c,d){a.call(this),this.parent=b,this.outerValue=c,this.outerIndex=d,this.index=0}return c(b,a),b.prototype._next=function(a){this.parent.notifyNext(this.outerValue,a,this.outerIndex,this.index++,this)},b.prototype._error=function(a){this.parent.notifyError(a,this),this.unsubscribe()},b.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},b}(x),eb={},gb=function(){function a(a){this.project=a}return a.prototype.call=function(a,b){return b.subscribe(new hb(a,this.project))},a}(),hb=function(a){function b(b,c){a.call(this,b),this.project=c,this.active=0,this.values=[],this.observables=[]}return c(b,a),b.prototype._next=function(a){this.values.push(eb),this.observables.push(a)},b.prototype._complete=function(){var c,d,a=this.observables,b=a.length;if(0===b)this.destination.complete();else for(this.active=b,this.toRespond=b,c=0;b>c;c++)d=a[c],this.add(db(this,d,d,c))},b.prototype.notifyComplete=function(){0===(this.active-=1)&&this.destination.complete()},b.prototype.notifyNext=function(a,b,c){var f=this.values,g=f[c],h=this.toRespond?g===eb?--this.toRespond:this.toRespond:0;f[c]=b,0===h&&(this.project?this._tryProject(f):this.destination.next(f.slice()))},b.prototype._tryProject=function(a){var b;try{b=this.project.apply(this,a)}catch(c){return this.destination.error(c),void 0}this.destination.next(b)},b}(Z),F.combineLatest=ib,jb=Y.of,kb=function(a){function b(b,c){a.call(this),this.promise=b,this.scheduler=c}return c(b,a),b.create=function(a,c){return new b(a,c)},b.prototype._subscribe=function(a){var b=this,c=this.promise,d=this.scheduler;if(null==d)this._isScalar?a.closed||(a.next(this.value),a.complete()):c.then(function(c){b.value=c,b._isScalar=!0,a.closed||(a.next(c),a.complete())},function(b){a.closed||a.error(b)}).then(null,function(a){j.setTimeout(function(){throw a})});else if(this._isScalar){if(!a.closed)return d.schedule(lb,0,{value:this.value,subscriber:a})}else c.then(function(c){b.value=c,b._isScalar=!0,a.closed||a.add(d.schedule(lb,0,{value:c,subscriber:a}))},function(b){a.closed||a.add(d.schedule(mb,0,{err:b,subscriber:a}))}).then(null,function(a){j.setTimeout(function(){throw a})})},b}(F),nb=function(a){function b(b,c){if(a.call(this),this.scheduler=c,null==b)throw new Error("iterator cannot be null.");this.iterator=qb(b)}return c(b,a),b.create=function(a,c){return new b(a,c)},b.dispatch=function(a){var f,b=a.index,c=a.hasError,d=a.iterator,e=a.subscriber;return c?(e.error(a.error),void 0):(f=d.next(),f.done?(e.complete(),void 0):(e.next(f.value),a.index=b+1,e.closed?("function"==typeof d.return&&d.return(),void 0):(this.schedule(a),void 0)))},b.prototype._subscribe=function(a){var g,c=0,d=this,e=d.iterator,f=d.scheduler;if(f)return f.schedule(b.dispatch,0,{index:c,iterator:e,subscriber:a});for(;;){if(g=e.next(),g.done){a.complete();break}if(a.next(g.value),a.closed){"function"==typeof e.return&&e.return();break}}},b}(F),ob=function(){function a(a,b,c){void 0===b&&(b=0),void 0===c&&(c=a.length),this.str=a,this.idx=b,this.len=c}return a.prototype[bb]=function(){return this},a.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.str.charAt(this.idx++)}:{done:!0,value:void 0}},a}(),pb=function(){function a(a,b,c){void 0===b&&(b=0),void 0===c&&(c=sb(a)),this.arr=a,this.idx=b,this.len=c}return a.prototype[bb]=function(){return this},a.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.arr[this.idx++]}:{done:!0,value:void 0}},a}(),rb=Math.pow(2,53)-1,vb=function(a){function b(b,c){a.call(this),this.arrayLike=b,this.scheduler=c,c||1!==b.length||(this._isScalar=!0,this.value=b[0])}return c(b,a),b.create=function(a,c){var d=a.length;return 0===d?new X:1===d?new W(a[0],c):new b(a,c)},b.dispatch=function(a){var b=a.arrayLike,c=a.index,d=a.length,e=a.subscriber;if(!e.closed){if(c>=d)return e.complete(),void 0;e.next(b[c]),a.index=c+1,this.schedule(a)}},b.prototype._subscribe=function(a){var h,c=0,d=this,e=d.arrayLike,f=d.scheduler,g=e.length;if(f)return f.schedule(b.dispatch,0,{arrayLike:e,index:c,length:g,subscriber:a});for(h=0;g>h&&!a.closed;h++)a.next(e[h]);a.complete()},b}(F),wb=function(){function a(a,b,c){this.kind=a,this.value=b,this.error=c,this.hasValue="N"===a}return a.prototype.observe=function(a){switch(this.kind){case"N":return a.next&&a.next(this.value);case"E":return a.error&&a.error(this.error);case"C":return a.complete&&a.complete()}},a.prototype.do=function(a,b,c){var d=this.kind;switch(d){case"N":return a&&a(this.value);case"E":return b&&b(this.error);case"C":return c&&c()}},a.prototype.accept=function(a,b,c){return a&&"function"==typeof a.next?this.observe(a):this.do(a,b,c)},a.prototype.toObservable=function(){var a=this.kind;switch(a){case"N":return F.of(this.value);case"E":return F.throw(this.error);case"C":return F.empty()}throw new Error("unexpected notification kind value")},a.createNext=function(b){return"undefined"!=typeof b?new a("N",b):a.undefinedValueNotification},a.createError=function(b){return new a("E",void 0,b)},a.createComplete=function(){return a.completeNotification},a.completeNotification=new a("C"),a.undefinedValueNotification=new a("N",void 0),a}(),yb=function(){function a(a,b){void 0===b&&(b=0),this.scheduler=a,this.delay=b}return a.prototype.call=function(a,b){return b.subscribe(new zb(a,this.scheduler,this.delay))},a}(),zb=function(a){function b(b,c,d){void 0===d&&(d=0),a.call(this,b),this.scheduler=c,this.delay=d}return c(b,a),b.dispatch=function(a){var b=a.notification,c=a.destination;b.observe(c),this.unsubscribe()},b.prototype.scheduleMessage=function(a){this.add(this.scheduler.schedule(b.dispatch,this.delay,new Ab(a,this.destination)))},b.prototype._next=function(a){this.scheduleMessage(wb.createNext(a))},b.prototype._error=function(a){this.scheduleMessage(wb.createError(a))},b.prototype._complete=function(){this.scheduleMessage(wb.createComplete())},b}(x),Ab=function(){function a(a,b){this.notification=a,this.destination=b}return a}(),Bb=function(a){function b(b,c){a.call(this,null),this.ish=b,this.scheduler=c}return c(b,a),b.create=function(a,c){if(null!=a){if("function"==typeof a[B])return a instanceof F&&!c?a:new b(a,c);if(l(a))return new Y(a,c);if(_(a))return new kb(a,c);if("function"==typeof a[bb]||"string"==typeof a)return new nb(a,c);if($(a))return new vb(a,c)}throw new TypeError((null!==a&&typeof a||a)+" is not observable")},b.prototype._subscribe=function(a){var b=this.ish,c=this.scheduler;return null==c?b[B]().subscribe(a):b[B]().subscribe(new zb(a,c,0))},b}(F),Cb=Bb.create,Eb=function(){function a(a,b,c){void 0===c&&(c=Number.POSITIVE_INFINITY),this.project=a,this.resultSelector=b,this.concurrent=c}return a.prototype.call=function(a,b){return b.subscribe(new Fb(a,this.project,this.resultSelector,this.concurrent))},a}(),Fb=function(a){function b(b,c,d,e){void 0===e&&(e=Number.POSITIVE_INFINITY),a.call(this,b),this.project=c,this.resultSelector=d,this.concurrent=e,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}return c(b,a),b.prototype._next=function(a){this.active<this.concurrent?this._tryNext(a):this.buffer.push(a)},b.prototype._tryNext=function(a){var b,c=this.index++;try{b=this.project(a,c)}catch(d){return this.destination.error(d),void 0}this.active++,this._innerSub(b,a,c)},b.prototype._innerSub=function(a,b,c){this.add(db(this,a,b,c))},b.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},b.prototype.notifyNext=function(a,b,c,d){this.resultSelector?this._notifyResultSelector(a,b,c,d):this.destination.next(b)},b.prototype._notifyResultSelector=function(a,b,c,d){var e;try{e=this.resultSelector(a,b,c,d)}catch(f){return this.destination.error(f),void 0}this.destination.next(e)},b.prototype.notifyComplete=function(a){var b=this.buffer;this.remove(a),this.active--,b.length>0?this._next(b.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},b}(Z),F.concat=Jb,Kb=function(a){function b(b){a.call(this),this.observableFactory=b}return c(b,a),b.create=function(a){return new b(a)},b.prototype._subscribe=function(a){return new Lb(a,this.observableFactory)},b}(F),Lb=function(a){function b(b,c){a.call(this,b),this.factory=c,this.tryDefer()}return c(b,a),b.prototype.tryDefer=function(){try{this._callFactory()}catch(a){this._error(a)}},b.prototype._callFactory=function(){var a=this.factory();a&&this.add(db(this,a))},b}(Z),Mb=Kb.create,F.defer=Mb,Nb=X.create,F.empty=Nb,Ob=function(a){function b(b,c){a.call(this),this.sources=b,this.resultSelector=c}return c(b,a),b.create=function(){var c,d,a=[];for(c=0;c<arguments.length;c++)a[c-0]=arguments[c];return null===a||0===arguments.length?new X:(d=null,"function"==typeof a[a.length-1]&&(d=a.pop()),1===a.length&&l(a[0])&&(a=a[0]),0===a.length?new X:new b(a,d))},b.prototype._subscribe=function(a){return new Pb(a,this.sources,this.resultSelector)},b}(F),Pb=function(a){function b(b,c,d){var e,f,g,h;for(a.call(this,b),this.sources=c,this.resultSelector=d,this.completed=0,this.haveValues=0,e=c.length,this.total=e,this.values=new Array(e),f=0;e>f;f++)g=c[f],h=db(this,g,null,f),h&&(h.outerIndex=f,this.add(h))}return c(b,a),b.prototype.notifyNext=function(a,b,c,d,e){this.values[c]=b,e._hasValue||(e._hasValue=!0,this.haveValues++)},b.prototype.notifyComplete=function(a){var h,b=this.destination,c=this,d=c.haveValues,e=c.resultSelector,f=c.values,g=f.length;return a._hasValue?(this.completed++,this.completed===g&&(d===g&&(h=e?e.apply(this,f):f,b.next(h)),b.complete()),void 0):(b.complete(),void 0)},b}(Z),Qb=Ob.create,F.forkJoin=Qb,F.from=Cb,Rb=Object.prototype.toString,Xb=function(a){function b(b,c,d,e){a.call(this),this.sourceObj=b,this.eventName=c,this.selector=d,this.options=e}return c(b,a),b.create=function(a,c,d,e){return k(d)&&(e=d,d=void 0),new b(a,c,e,d)},b.setupSubscription=function(a,c,d,e,f){var g,h,i,j,k,l;if(Ub(a)||Vb(a))for(h=0,i=a.length;i>h;h++)b.setupSubscription(a[h],c,d,e,f);else if(Wb(a))j=a,a.addEventListener(c,d,f),g=function(){return j.removeEventListener(c,d)};else if(Tb(a))k=a,a.on(c,d),g=function(){return k.off(c,d)};else{if(!Sb(a))throw new TypeError("Invalid event target");l=a,a.addListener(c,d),g=function(){return l.removeListener(c,d)}}e.add(new s(g))},b.prototype._subscribe=function(a){var c=this.sourceObj,d=this.eventName,e=this.options,f=this.selector,g=f?function(){var c,d,b=[];for(c=0;c<arguments.length;c++)b[c-0]=arguments[c];d=q(f).apply(void 0,b),d===n?a.error(n.e):a.next(d)}:function(b){return a.next(b)};b.setupSubscription(c,d,g,a,e)},b}(F),Yb=Xb.create,F.fromEvent=Yb,Zb=function(a){function b(b,c,d){a.call(this),this.addHandler=b,this.removeHandler=c,this.selector=d}return c(b,a),b.create=function(a,c,d){return new b(a,c,d)},b.prototype._subscribe=function(a){var b=this,c=this.removeHandler,d=this.selector?function(){var d,c=[];for(d=0;d<arguments.length;d++)c[d-0]=arguments[d];b._callSelector(a,c)}:function(b){a.next(b)},e=this._callAddHandler(d,a);k(c)&&a.add(new s(function(){c(d,e)}))},b.prototype._callSelector=function(a,b){try{var c=this.selector.apply(this,b);a.next(c)}catch(d){a.error(d)}},b.prototype._callAddHandler=function(a,b){try{return this.addHandler(a)||null}catch(c){b.error(c)}},b}(F),$b=Zb.create,F.fromEventPattern=$b,_b=kb.create,F.fromPromise=_b,ac=function(a){return a},bc=function(a){function b(b,c,d,e,f){a.call(this),this.initialState=b,this.condition=c,this.iterate=d,this.resultSelector=e,this.scheduler=f}return c(b,a),b.create=function(a,c,d,e,f){return 1==arguments.length?new b(a.initialState,a.condition,a.iterate,a.resultSelector||ac,a.scheduler):void 0===e||V(e)?new b(a,c,d,ac,e):new b(a,c,d,e,f)},b.prototype._subscribe=function(a){var d,e,f,g,h,j,c=this.initialState;if(this.scheduler)return this.scheduler.schedule(b.dispatch,0,{subscriber:a,iterate:this.iterate,condition:this.condition,resultSelector:this.resultSelector,state:c});for(d=this,e=d.condition,f=d.resultSelector,g=d.iterate;;){if(e){h=void 0;try{h=e(c)}catch(i){return a.error(i),void 0}if(!h){a.complete();break}}j=void 0;try{j=f(c)}catch(i){return a.error(i),void 0}if(a.next(j),a.closed)break;try{c=g(c)}catch(i){return a.error(i),void 0}}},b.dispatch=function(a){var e,f,b=a.subscriber,c=a.condition;if(!b.closed){if(a.needIterate)try{a.state=a.iterate(a.state)}catch(d){return b.error(d),void 0}else a.needIterate=!0;if(c){e=void 0;try{e=c(a.state)}catch(d){return b.error(d),void 0}if(!e)return b.complete(),void 0;if(b.closed)return}try{f=a.resultSelector(a.state)}catch(d){return b.error(d),void 0}if(!b.closed&&(b.next(f),!b.closed))return this.schedule(a)}},b}(F),cc=bc.create,F.generate=cc,dc=function(a){function b(b,c,d){a.call(this),this.condition=b,this.thenSource=c,this.elseSource=d}return c(b,a),b.create=function(a,c,d){return new b(a,c,d)},b.prototype._subscribe=function(a){var b=this,c=b.condition,d=b.thenSource,e=b.elseSource;return new ec(a,c,d,e)},b}(F),ec=function(a){function b(b,c,d,e){a.call(this,b),this.condition=c,this.thenSource=d,this.elseSource=e,this.tryIf()}return c(b,a),b.prototype.tryIf=function(){var e,f,a=this,b=a.condition,c=a.thenSource,d=a.elseSource;try{e=b(),f=e?c:d,f?this.add(db(this,f)):this._complete()}catch(g){this._error(g)}},b}(Z),fc=dc.create,F.if=fc,hc=function(a){function b(){a.call(this)}return c(b,a),b.prototype.schedule=function(a,b){return void 0===b&&(b=0),this},b}(s),ic=function(a){function b(b,c){a.call(this,b,c),this.scheduler=b,this.work=c,this.pending=!1}return c(b,a),b.prototype.schedule=function(a,b){var c,d;return void 0===b&&(b=0),this.closed?this:(this.state=a,this.pending=!0,c=this.id,d=this.scheduler,null!=c&&(this.id=this.recycleAsyncId(d,c,b)),this.delay=b,this.id=this.id||this.requestAsyncId(d,this.id,b),this)},b.prototype.requestAsyncId=function(a,b,c){return void 0===c&&(c=0),j.setInterval(a.flush.bind(a,this),c)},b.prototype.recycleAsyncId=function(a,b,c){return void 0===c&&(c=0),null!==c&&this.delay===c&&this.pending===!1?b:j.clearInterval(b)&&void 0||void 0},b.prototype.execute=function(a,b){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var c=this._execute(a,b);return c?c:(this.pending===!1&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null)),void 0)},b.prototype._execute=function(a){var c=!1,d=void 0;try{this.work(a)}catch(e){c=!0,d=!!e&&e||new Error(e)}return c?(this.unsubscribe(),d):void 0},b.prototype._unsubscribe=function(){var a=this.id,b=this.scheduler,c=b.actions,d=c.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==d&&c.splice(d,1),null!=a&&(this.id=this.recycleAsyncId(b,a,null)),this.delay=null},b}(hc),jc=function(){function a(b,c){void 0===c&&(c=a.now),this.SchedulerAction=b,this.now=c}return a.prototype.schedule=function(a,b,c){return void 0===b&&(b=0),new this.SchedulerAction(this,a).schedule(c,b)},a.now=Date.now?Date.now:function(){return+new Date},a}(),kc=function(a){function b(){a.apply(this,arguments),this.actions=[],this.active=!1,this.scheduled=void 0}return c(b,a),b.prototype.flush=function(a){var c,b=this.actions;if(this.active)return b.push(a),void 0;this.active=!0;do if(c=a.execute(a.state,a.delay))break;while(a=b.shift());if(this.active=!1,c){for(;a=b.shift();)a.unsubscribe();throw c}},b}(jc),lc=new kc(ic),mc=function(a){function b(b,c){void 0===b&&(b=0),void 0===c&&(c=lc),a.call(this),this.period=b,this.scheduler=c,(!gc(b)||0>b)&&(this.period=0),c&&"function"==typeof c.schedule||(this.scheduler=lc)}return c(b,a),b.create=function(a,c){return void 0===a&&(a=0),void 0===c&&(c=lc),new b(a,c)},b.dispatch=function(a){var b=a.index,c=a.subscriber,d=a.period;c.next(b),c.closed||(a.index+=1,this.schedule(a,d))},b.prototype._subscribe=function(a){var c=0,d=this.period,e=this.scheduler;a.add(e.schedule(b.dispatch,d,{index:c,subscriber:a,period:d}))},b}(F),nc=mc.create,F.interval=nc,F.merge=oc,qc=function(){function a(){}return a.prototype.call=function(a,b){return b.subscribe(new rc(a))},a}(),rc=function(a){function b(b){a.call(this,b),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}return c(b,a),b.prototype._next=function(a){this.observables.push(a)},b.prototype._complete=function(){var c,d,e,a=this.observables,b=a.length;if(0===b)this.destination.complete();else{for(c=0;b>c&&!this.hasFirst;c++)d=a[c],e=db(this,d,d,c),this.subscriptions&&this.subscriptions.push(e),this.add(e);this.observables=null}},b.prototype.notifyNext=function(a,b,c){var f,g;if(!this.hasFirst){for(this.hasFirst=!0,f=0;f<this.subscriptions.length;f++)f!==c&&(g=this.subscriptions[f],g.unsubscribe(),this.remove(g));this.subscriptions=null}this.destination.next(b)},b}(Z),F.race=pc,sc=function(a){function b(){a.call(this)}return c(b,a),b.create=function(){return new b},b.prototype._subscribe=function(){C()},b}(F),tc=sc.create,F.never=tc,F.of=jb,wc=function(){function a(a){this.nextSources=a}return a.prototype.call=function(a,b){return b.subscribe(new xc(a,this.nextSources))},a}(),xc=function(a){function b(b,c){a.call(this,b),this.destination=b,this.nextSources=c}return c(b,a),b.prototype.notifyError=function(){this.subscribeToNextSource()},b.prototype.notifyComplete=function(){this.subscribeToNextSource()},b.prototype._error=function(){this.subscribeToNextSource()},b.prototype._complete=function(){this.subscribeToNextSource()},b.prototype.subscribeToNextSource=function(){var a=this.nextSources.shift();a?this.add(db(this,a)):this.destination.complete()},b}(Z),yc=vc,F.onErrorResumeNext=yc,Ac=function(a){function b(b,c){a.call(this),this.obj=b,this.scheduler=c,this.keys=Object.keys(b)}return c(b,a),b.create=function(a,c){return new b(a,c)},b.prototype._subscribe=function(a){var f,g,b=this,c=b.keys,d=b.scheduler,e=c.length;if(d)return d.schedule(zc,0,{obj:this.obj,keys:c,length:e,index:0,subscriber:a});for(f=0;e>f;f++)g=c[f],a.next([g,this.obj[g]]);a.complete()},b}(F),Bc=Ac.create,F.pairs=Bc,Cc=function(a){function b(b,c,d){a.call(this),this.start=b,this._count=c,this.scheduler=d}return c(b,a),b.create=function(a,c,d){return void 0===a&&(a=0),void 0===c&&(c=0),new b(a,c,d)},b.dispatch=function(a){var b=a.start,c=a.index,d=a.count,e=a.subscriber;return c>=d?(e.complete(),void 0):(e.next(b),e.closed||(a.index=c+1,a.start=b+1,this.schedule(a)),void 0)},b.prototype._subscribe=function(a){var c=0,d=this.start,e=this._count,f=this.scheduler;if(f)return f.schedule(b.dispatch,0,{index:c,count:e,start:d,subscriber:a});for(;;){if(c++>=e){a.complete();break}if(a.next(d++),a.closed)break}},b}(F),Dc=Cc.create,F.range=Dc,Ec=function(a){function b(b,c){a.call(this),this.resourceFactory=b,this.observableFactory=c}return c(b,a),b.create=function(a,c){return new b(a,c)},b.prototype._subscribe=function(a){var e,b=this,c=b.resourceFactory,d=b.observableFactory;try{return e=c(),new Fc(a,e,d)}catch(f){a.error(f)}},b}(F),Fc=function(a){function b(b,c,d){a.call(this,b),this.resource=c,this.observableFactory=d,b.add(c),this.tryUse()}return c(b,a),b.prototype.tryUse=function(){try{var a=this.observableFactory.call(this,this.resource);a&&this.add(db(this,a))}catch(b){this._error(b)}},b}(Z),Gc=Ec.create,F.using=Gc,Hc=function(a){function b(b,c){a.call(this),this.error=b,this.scheduler=c}return c(b,a),b.create=function(a,c){return new b(a,c)},b.dispatch=function(a){var b=a.error,c=a.subscriber;c.error(b)},b.prototype._subscribe=function(a){var c=this.error,d=this.scheduler;return a.syncErrorThrowable=!0,d?d.schedule(b.dispatch,0,{error:c,subscriber:a}):(a.error(c),void 0)},b}(F),Ic=Hc.create,F.throw=Ic,Kc=function(a){function b(b,c,d){void 0===b&&(b=0),a.call(this),this.period=-1,this.dueTime=0,gc(c)?this.period=Number(c)<1&&1||Number(c):V(c)&&(d=c),V(d)||(d=lc),this.scheduler=d,this.dueTime=Jc(b)?+b-this.scheduler.now():b}return c(b,a),b.create=function(a,c,d){return void 0===a&&(a=0),new b(a,c,d)},b.dispatch=function(a){var b=a.index,c=a.period,d=a.subscriber,e=this;if(d.next(b),!d.closed){if(-1===c)return d.complete();a.index=b+1,e.schedule(a,c)}},b.prototype._subscribe=function(a){var c=0,d=this,e=d.period,f=d.dueTime,g=d.scheduler;return g.schedule(b.dispatch,f,{index:c,period:e,subscriber:a})},b}(F),Lc=Kc.create,F.timer=Lc,Oc=function(){function a(a){this.project=a}return a.prototype.call=function(a,b){return b.subscribe(new Pc(a,this.project))},a}(),Pc=function(a){function b(b,c,d){void 0===d&&(d=Object.create(null)),a.call(this,b),this.iterators=[],this.active=0,this.project="function"==typeof c?c:null,this.values=d}return c(b,a),b.prototype._next=function(a){var b=this.iterators;l(a)?b.push(new Rc(a)):"function"==typeof a[bb]?b.push(new Qc(a[bb]())):b.push(new Sc(this.destination,this,a))},b.prototype._complete=function(){var c,d,a=this.iterators,b=a.length;if(0===b)return this.destination.complete(),void 0;for(this.active=b,c=0;b>c;c++)d=a[c],d.stillUnsubscribed?this.add(d.subscribe(d,c)):this.active--},b.prototype.notifyInactive=function(){this.active--,0===this.active&&this.destination.complete()},b.prototype.checkIterators=function(){var d,e,f,g,h,a=this.iterators,b=a.length,c=this.destination;for(d=0;b>d;d++)if(e=a[d],"function"==typeof e.hasValue&&!e.hasValue())return;for(f=!1,g=[],d=0;b>d;d++){if(e=a[d],h=e.next(),e.hasCompleted()&&(f=!0),h.done)return c.complete(),void 0;g.push(h.value)}this.project?this._tryProject(g):c.next(g),f&&c.complete()},b.prototype._tryProject=function(a){var b;try{b=this.project.apply(this,a)}catch(c){return this.destination.error(c),void 0}this.destination.next(b)},b}(x),Qc=function(){function a(a){this.iterator=a,this.nextResult=a.next()}return a.prototype.hasValue=function(){return!0},a.prototype.next=function(){var a=this.nextResult;return this.nextResult=this.iterator.next(),a},a.prototype.hasCompleted=function(){var a=this.nextResult;return a&&a.done},a}(),Rc=function(){function a(a){this.array=a,this.index=0,this.length=0,this.length=a.length}return a.prototype[bb]=function(){return this},a.prototype.next=function(){var b=this.index++,c=this.array;return b<this.length?{value:c[b],done:!1}:{value:null,done:!0}},a.prototype.hasValue=function(){return this.array.length>this.index},a.prototype.hasCompleted=function(){return this.array.length===this.index},a}(),Sc=function(a){function b(b,c,d){a.call(this,b),this.parent=c,this.observable=d,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}return c(b,a),b.prototype[bb]=function(){return this},b.prototype.next=function(){var a=this.buffer;return 0===a.length&&this.isComplete?{value:null,done:!0}:{value:a.shift(),done:!1}},b.prototype.hasValue=function(){return this.buffer.length>0},b.prototype.hasCompleted=function(){return 0===this.buffer.length&&this.isComplete},b.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},b.prototype.notifyNext=function(a,b){this.buffer.push(b),this.parent.checkIterators()},b.prototype.subscribe=function(a,b){return db(this,this.observable,this,b)},b}(Z),Tc=Nc,F.zip=Tc,Vc=function(){function a(a,b){this.project=a,this.thisArg=b}return a.prototype.call=function(a,b){return b.subscribe(new Wc(a,this.project,this.thisArg))},a}(),Wc=function(a){function b(b,c,d){a.call(this,b),this.project=c,this.count=0,this.thisArg=d||this}return c(b,a),b.prototype._next=function(a){var b;try{b=this.project.call(this.thisArg,a,this.count++)}catch(c){return this.destination.error(c),void 0}this.destination.next(b)},b}(x),cd=Uc(function(a){return a.response}),ed=function(a){function b(b){var c,d;if(a.call(this),c={async:!0,createXHR:function(){return this.crossDomain?Xc.call(this):Yc()},crossDomain:!1,withCredentials:!1,headers:{},method:"GET",responseType:"json",timeout:0},"string"==typeof b)c.url=b;else for(d in b)b.hasOwnProperty(d)&&(c[d]=b[d]);this.request=c}return c(b,a),b.prototype._subscribe=function(a){return new fd(a,this.request)},b.create=function(){var a=function(a){return new b(a)};return a.get=Zc,a.post=$c,a.delete=_c,a.put=ad,a.patch=bd,a.getJSON=dd,a}(),b}(F),fd=function(a){function b(b,c){a.call(this,b),this.request=c,this.done=!1;var d=c.headers=c.headers||{};c.crossDomain||d["X-Requested-With"]||(d["X-Requested-With"]="XMLHttpRequest"),"Content-Type"in d||j.FormData&&c.body instanceof j.FormData||"undefined"==typeof c.body||(d["Content-Type"]="application/x-www-form-urlencoded; charset=UTF-8"),c.body=this.serializeBody(c.body,c.headers["Content-Type"]),this.send()}return c(b,a),b.prototype.next=function(a){var b,c,d,e,f;this.done=!0,b=this,c=b.xhr,d=b.request,e=b.destination,f=new gd(a,c,d),e.next(f)},b.prototype.send=function(){var m,a=this,b=a.request,c=a.request,d=c.user,e=c.method,f=c.url,g=c.async,h=c.password,i=c.headers,j=c.body,k=b.createXHR,l=q(k).call(b);if(l===n)this.error(n.e);else{if(this.xhr=l,this.setupEvents(l,b),m=void 0,m=d?q(l.open).call(l,e,f,g,d,h):q(l.open).call(l,e,f,g),m===n)return this.error(n.e),null;if(g&&(l.timeout=b.timeout,l.responseType=b.responseType),"withCredentials"in l&&(l.withCredentials=!!b.withCredentials),this.setHeaders(l,i),m=j?q(l.send).call(l,j):q(l.send).call(l),m===n)return this.error(n.e),null
}return l},b.prototype.serializeBody=function(a,b){if(!a||"string"==typeof a)return a;if(j.FormData&&a instanceof j.FormData)return a;if(b){var c=b.indexOf(";");-1!==c&&(b=b.substring(0,c))}switch(b){case"application/x-www-form-urlencoded":return Object.keys(a).map(function(b){return encodeURI(b)+"="+encodeURI(a[b])}).join("&");case"application/json":return JSON.stringify(a);default:return a}},b.prototype.setHeaders=function(a,b){for(var c in b)b.hasOwnProperty(c)&&a.setRequestHeader(c,b[c])},b.prototype.setupEvents=function(a,b){function d(a){var b=d,c=b.subscriber,e=b.progressSubscriber,f=b.request;e&&e.error(a),c.error(new jd(this,f))}function g(a){var f,h,b=g,c=b.subscriber,d=b.progressSubscriber,e=b.request;4===this.readyState&&(f=1223===this.status?204:this.status,h="text"===this.responseType?this.response||this.responseText:this.response,0===f&&(f=h?200:0),f>=200&&300>f?(d&&d.complete(),c.next(a),c.complete()):(d&&d.error(a),c.error(new hd("ajax error "+f,this,e))))}var e,f,c=b.progressSubscriber;a.ontimeout=d,d.request=b,d.subscriber=this,d.progressSubscriber=c,a.upload&&"withCredentials"in a&&(c&&(e=function(a){var b=e.progressSubscriber;b.next(a)},j.XDomainRequest?a.onprogress=e:a.upload.onprogress=e,e.progressSubscriber=c),f=function(a){var b=f,c=b.progressSubscriber,d=b.subscriber,e=b.request;c&&c.error(a),d.error(new hd("ajax error",this,e))},a.onerror=f,f.request=b,f.subscriber=this,f.progressSubscriber=c),a.onreadystatechange=g,g.subscriber=this,g.progressSubscriber=c,g.request=b},b.prototype.unsubscribe=function(){var b=this,c=b.done,d=b.xhr;!c&&d&&4!==d.readyState&&"function"==typeof d.abort&&d.abort(),a.prototype.unsubscribe.call(this)},b}(x),gd=function(){function a(a,b,c){this.originalEvent=a,this.xhr=b,this.request=c,this.status=b.status,this.responseType=b.responseType||c.responseType,this.response=id(this.responseType,b)}return a}(),hd=function(a){function b(b,c,d){a.call(this,b),this.message=b,this.xhr=c,this.request=d,this.status=c.status,this.responseType=c.responseType||d.responseType,this.response=id(this.responseType,c)}return c(b,a),b}(Error),jd=function(a){function b(b,c){a.call(this,"ajax timeout",b,c)}return c(b,a),b}(hd),kd=ed.create,F.ajax=kd,ld=function(a){function b(b,c){a.call(this,b,c),this.scheduler=b,this.work=c}return c(b,a),b.prototype.schedule=function(b,c){return void 0===c&&(c=0),c>0?a.prototype.schedule.call(this,b,c):(this.delay=c,this.state=b,this.scheduler.flush(this),this)},b.prototype.execute=function(b,c){return c>0||this.closed?a.prototype.execute.call(this,b,c):this._execute(b,c)},b.prototype.requestAsyncId=function(b,c,d){return void 0===d&&(d=0),null!==d&&d>0||null===d&&this.delay>0?a.prototype.requestAsyncId.call(this,b,c,d):b.flush(this)},b}(ic),md=function(a){function b(){a.apply(this,arguments)}return c(b,a),b}(kc),nd=new md(ld),od=function(a){function b(b,c,d){void 0===b&&(b=Number.POSITIVE_INFINITY),void 0===c&&(c=Number.POSITIVE_INFINITY),a.call(this),this.scheduler=d,this._events=[],this._bufferSize=1>b?1:b,this._windowTime=1>c?1:c}return c(b,a),b.prototype.next=function(b){var c=this._getNow();this._events.push(new pd(c,b)),this._trimBufferThenGetEvents(),a.prototype.next.call(this,b)},b.prototype._subscribe=function(a){var d,e,f,b=this._trimBufferThenGetEvents(),c=this.scheduler;if(this.closed)throw new G;for(this.hasError?d=s.EMPTY:this.isStopped?d=s.EMPTY:(this.observers.push(a),d=new H(this,a)),c&&a.add(a=new zb(a,c)),e=b.length,f=0;e>f&&!a.closed;f++)a.next(b[f].value);return this.hasError?a.error(this.thrownError):this.isStopped&&a.complete(),d},b.prototype._getNow=function(){return(this.scheduler||nd).now()},b.prototype._trimBufferThenGetEvents=function(){for(var a=this._getNow(),b=this._bufferSize,c=this._windowTime,d=this._events,e=d.length,f=0;e>f&&!(a-d[f].time<c);)f++;return e>b&&(f=Math.max(f,e-b)),f>0&&d.splice(0,f),d},b}(J),pd=function(){function a(a,b){this.time=a,this.value=b}return a}(),sd=rd(j),td=function(a){function b(b,c){if(b instanceof F)a.call(this,c,b);else{if(a.call(this),this.WebSocketCtor=j.WebSocket,this._output=new J,"string"==typeof b?this.url=b:sd(this,b),!this.WebSocketCtor)throw new Error("no WebSocket constructor can be found");this.destination=new od}}return c(b,a),b.prototype.resultSelector=function(a){return JSON.parse(a.data)},b.create=function(a){return new b(a)},b.prototype.lift=function(a){var c=new b(this,this.destination);return c.operator=a,c},b.prototype._resetState=function(){this.socket=null,this.source||(this.destination=new od),this._output=new J},b.prototype.multiplex=function(a,b,c){var d=this;return new F(function(e){var g,f=q(a)();return f===n?e.error(n.e):d.next(f),g=d.subscribe(function(a){var b=q(c)(a);b===n?e.error(n.e):b&&e.next(a)},function(a){return e.error(a)},function(){return e.complete()}),function(){var a=q(b)();a===n?e.error(n.e):d.next(a),g.unsubscribe()}})},b.prototype._connectSocket=function(){var f,a=this,b=this.WebSocketCtor,c=this._output,d=null;try{d=this.protocol?new b(this.url,this.protocol):new b(this.url),this.socket=d,this.binaryType&&(this.socket.binaryType=this.binaryType)}catch(e){return c.error(e),void 0}f=new s(function(){a.socket=null,d&&1===d.readyState&&d.close()}),d.onopen=function(b){var g,e=a.openObserver;e&&e.next(b),g=a.destination,a.destination=x.create(function(a){return 1===d.readyState&&d.send(a)},function(b){var e=a.closingObserver;e&&e.next(void 0),b&&b.code?d.close(b.code,b.reason):c.error(new TypeError("WebSocketSubject.error must be called with an object with an error code, and an optional reason: { code: number, reason: string }")),a._resetState()},function(){var b=a.closingObserver;b&&b.next(void 0),d.close(),a._resetState()}),g&&g instanceof od&&f.add(g.subscribe(a.destination))},d.onerror=function(b){a._resetState(),c.error(b)},d.onclose=function(b){a._resetState();var d=a.closeObserver;d&&d.next(b),b.wasClean?c.complete():c.error(b)},d.onmessage=function(b){var d=q(a.resultSelector)(b);d===n?c.error(n.e):c.next(d)}},b.prototype._subscribe=function(a){var d,b=this,c=this.source;return c?c.subscribe(a):(this.socket||this._connectSocket(),d=new s,d.add(this._output.subscribe(a)),d.add(function(){var a=b.socket;0===b._output.observers.length&&(a&&1===a.readyState&&a.close(),b._resetState())}),d)},b.prototype.unsubscribe=function(){var b=this,c=b.source,d=b.socket;d&&1===d.readyState&&(d.close(),this._resetState()),a.prototype.unsubscribe.call(this),c||(this.destination=new od)},b}(K),ud=td.create,F.webSocket=ud,wd=function(){function a(a){this.closingNotifier=a}return a.prototype.call=function(a,b){return b.subscribe(new xd(a,this.closingNotifier))},a}(),xd=function(a){function b(b,c){a.call(this,b),this.buffer=[],this.add(db(this,c))}return c(b,a),b.prototype._next=function(a){this.buffer.push(a)},b.prototype.notifyNext=function(){var f=this.buffer;this.buffer=[],this.destination.next(f)},b}(Z),F.prototype.buffer=yd,Ad=function(){function a(a,b){this.bufferSize=a,this.startBufferEvery=b,this.subscriberClass=b&&a!==b?Cd:Bd}return a.prototype.call=function(a,b){return b.subscribe(new this.subscriberClass(a,this.bufferSize,this.startBufferEvery))},a}(),Bd=function(a){function b(b,c){a.call(this,b),this.bufferSize=c,this.buffer=[]}return c(b,a),b.prototype._next=function(a){var b=this.buffer;b.push(a),b.length==this.bufferSize&&(this.destination.next(b),this.buffer=[])},b.prototype._complete=function(){var b=this.buffer;b.length>0&&this.destination.next(b),a.prototype._complete.call(this)},b}(x),Cd=function(a){function b(b,c,d){a.call(this,b),this.bufferSize=c,this.startBufferEvery=d,this.buffers=[],this.count=0}return c(b,a),b.prototype._next=function(a){var g,h,b=this,c=b.bufferSize,d=b.startBufferEvery,e=b.buffers,f=b.count;for(this.count++,0===f%d&&e.push([]),g=e.length;g--;)h=e[g],h.push(a),h.length===c&&(e.splice(g,1),this.destination.next(h))},b.prototype._complete=function(){for(var e,b=this,c=b.buffers,d=b.destination;c.length>0;)e=c.shift(),e.length>0&&d.next(e);a.prototype._complete.call(this)},b}(x),F.prototype.bufferCount=Dd,Fd=function(){function a(a,b,c,d){this.bufferTimeSpan=a,this.bufferCreationInterval=b,this.maxBufferSize=c,this.scheduler=d}return a.prototype.call=function(a,b){return b.subscribe(new Hd(a,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},a}(),Gd=function(){function a(){this.buffer=[]}return a}(),Hd=function(a){function b(b,c,d,e,f){var g,h,i,j;a.call(this,b),this.bufferTimeSpan=c,this.bufferCreationInterval=d,this.maxBufferSize=e,this.scheduler=f,this.contexts=[],g=this.openContext(),this.timespanOnly=null==d||0>d,this.timespanOnly?(h={subscriber:this,context:g,bufferTimeSpan:c},this.add(g.closeAction=f.schedule(Id,c,h))):(i={subscriber:this,context:g},j={bufferTimeSpan:c,bufferCreationInterval:d,subscriber:this,scheduler:f},this.add(g.closeAction=f.schedule(Kd,c,i)),this.add(f.schedule(Jd,d,j)))}return c(b,a),b.prototype._next=function(a){var d,e,f,g,b=this.contexts,c=b.length;for(e=0;c>e;e++)f=b[e],g=f.buffer,g.push(a),g.length==this.maxBufferSize&&(d=f);d&&this.onBufferFull(d)},b.prototype._error=function(b){this.contexts.length=0,a.prototype._error.call(this,b)},b.prototype._complete=function(){for(var e,b=this,c=b.contexts,d=b.destination;c.length>0;)e=c.shift(),d.next(e.buffer);a.prototype._complete.call(this)},b.prototype._unsubscribe=function(){this.contexts=null},b.prototype.onBufferFull=function(a){var b,c,d;this.closeContext(a),b=a.closeAction,b.unsubscribe(),this.remove(b),!this.closed&&this.timespanOnly&&(a=this.openContext(),c=this.bufferTimeSpan,d={subscriber:this,context:a,bufferTimeSpan:c},this.add(a.closeAction=this.scheduler.schedule(Id,c,d)))},b.prototype.openContext=function(){var a=new Gd;return this.contexts.push(a),a},b.prototype.closeContext=function(a){var b,c;this.destination.next(a.buffer),b=this.contexts,c=b?b.indexOf(a):-1,c>=0&&b.splice(b.indexOf(a),1)},b}(x),F.prototype.bufferTime=Ld,Nd=function(){function a(a,b){this.openings=a,this.closingSelector=b}return a.prototype.call=function(a,b){return b.subscribe(new Od(a,this.openings,this.closingSelector))},a}(),Od=function(a){function b(b,c,d){a.call(this,b),this.openings=c,this.closingSelector=d,this.contexts=[],this.add(db(this,c))}return c(b,a),b.prototype._next=function(a){var d,b=this.contexts,c=b.length;for(d=0;c>d;d++)b[d].buffer.push(a)},b.prototype._error=function(b){for(var d,c=this.contexts;c.length>0;)d=c.shift(),d.subscription.unsubscribe(),d.buffer=null,d.subscription=null;this.contexts=null,a.prototype._error.call(this,b)},b.prototype._complete=function(){for(var c,b=this.contexts;b.length>0;)c=b.shift(),this.destination.next(c.buffer),c.subscription.unsubscribe(),c.buffer=null,c.subscription=null;this.contexts=null,a.prototype._complete.call(this)},b.prototype.notifyNext=function(a,b){a?this.closeBuffer(a):this.openBuffer(b)},b.prototype.notifyComplete=function(a){this.closeBuffer(a.context)},b.prototype.openBuffer=function(a){var b,c;try{b=this.closingSelector,c=b.call(this,a),c&&this.trySubscribe(c)}catch(d){this._error(d)}},b.prototype.closeBuffer=function(a){var c,d,b=this.contexts;b&&a&&(c=a.buffer,d=a.subscription,this.destination.next(c),b.splice(b.indexOf(a),1),this.remove(d),d.unsubscribe())},b.prototype.trySubscribe=function(a){var f,b=this.contexts,c=[],d=new s,e={buffer:c,subscription:d};b.push(e),f=db(this,a,e),!f||f.closed?this.closeBuffer(e):(f.context=e,this.add(f),d.add(f))},b}(Z),F.prototype.bufferToggle=Pd,Rd=function(){function a(a){this.closingSelector=a}return a.prototype.call=function(a,b){return b.subscribe(new Sd(a,this.closingSelector))},a}(),Sd=function(a){function b(b,c){a.call(this,b),this.closingSelector=c,this.subscribing=!1,this.openBuffer()}return c(b,a),b.prototype._next=function(a){this.buffer.push(a)},b.prototype._complete=function(){var b=this.buffer;b&&this.destination.next(b),a.prototype._complete.call(this)},b.prototype._unsubscribe=function(){this.buffer=null,this.subscribing=!1},b.prototype.notifyNext=function(){this.openBuffer()},b.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},b.prototype.openBuffer=function(){var b,c,a=this.closingSubscription;a&&(this.remove(a),a.unsubscribe()),b=this.buffer,this.buffer&&this.destination.next(b),this.buffer=[],c=q(this.closingSelector)(),c===n?this.error(n.e):(a=new s,this.closingSubscription=a,this.add(a),this.subscribing=!0,a.add(db(this,c)),this.subscribing=!1)},b}(Z),F.prototype.bufferWhen=Td,Vd=function(){function a(a){this.selector=a}return a.prototype.call=function(a,b){return b.subscribe(new Wd(a,this.selector,this.caught))},a}(),Wd=function(a){function b(b,c,d){a.call(this,b),this.selector=c,this.caught=d}return c(b,a),b.prototype.error=function(b){if(!this.isStopped){var c=void 0;try{c=this.selector(b,this.caught)}catch(d){return a.prototype.error.call(this,d),void 0}this._unsubscribeAndRecycle(),this.add(db(this,c))}},b}(Z),F.prototype.catch=Xd,F.prototype._catch=Xd,F.prototype.combineAll=Zd,F.prototype.combineLatest=$d,F.prototype.concat=ae,F.prototype.concatAll=be,F.prototype.concatMap=de,F.prototype.concatMapTo=fe,he=function(){function a(a,b){this.predicate=a,this.source=b}return a.prototype.call=function(a,b){return b.subscribe(new ie(a,this.predicate,this.source))},a}(),ie=function(a){function b(b,c,d){a.call(this,b),this.predicate=c,this.source=d,this.count=0,this.index=0}return c(b,a),b.prototype._next=function(a){this.predicate?this._tryPredicate(a):this.count++},b.prototype._tryPredicate=function(a){var b;try{b=this.predicate(a,this.index++,this.source)}catch(c){return this.destination.error(c),void 0}b&&this.count++},b.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},b}(x),F.prototype.count=je,le=function(){function a(){}return a.prototype.call=function(a,b){return b.subscribe(new me(a))},a}(),me=function(a){function b(b){a.call(this,b)}return c(b,a),b.prototype._next=function(a){a.observe(this.destination)},b}(x),F.prototype.dematerialize=ne,pe=function(){function a(a){this.durationSelector=a}return a.prototype.call=function(a,b){return b.subscribe(new qe(a,this.durationSelector))},a}(),qe=function(a){function b(b,c){a.call(this,b),this.durationSelector=c,this.hasValue=!1,this.durationSubscription=null}return c(b,a),b.prototype._next=function(a){try{var b=this.durationSelector.call(this,a);b&&this._tryNext(a,b)}catch(c){this.destination.error(c)}},b.prototype._complete=function(){this.emitValue(),this.destination.complete()},b.prototype._tryNext=function(a,b){var c=this.durationSubscription;this.value=a,this.hasValue=!0,c&&(c.unsubscribe(),this.remove(c)),c=db(this,b),c.closed||this.add(this.durationSubscription=c)},b.prototype.notifyNext=function(){this.emitValue()},b.prototype.notifyComplete=function(){this.emitValue()},b.prototype.emitValue=function(){var b,c;this.hasValue&&(b=this.value,c=this.durationSubscription,c&&(this.durationSubscription=null,c.unsubscribe(),this.remove(c)),this.value=null,this.hasValue=!1,a.prototype._next.call(this,b))},b}(Z),F.prototype.debounce=re,te=function(){function a(a,b){this.dueTime=a,this.scheduler=b}return a.prototype.call=function(a,b){return b.subscribe(new ue(a,this.dueTime,this.scheduler))},a}(),ue=function(a){function b(b,c,d){a.call(this,b),this.dueTime=c,this.scheduler=d,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}return c(b,a),b.prototype._next=function(a){this.clearDebounce(),this.lastValue=a,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(ve,this.dueTime,this))},b.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},b.prototype.debouncedNext=function(){this.clearDebounce(),this.hasValue&&(this.destination.next(this.lastValue),this.lastValue=null,this.hasValue=!1)},b.prototype.clearDebounce=function(){var a=this.debouncedSubscription;null!==a&&(this.remove(a),a.unsubscribe(),this.debouncedSubscription=null)},b}(x),F.prototype.debounceTime=we,ye=function(){function a(a){this.defaultValue=a}return a.prototype.call=function(a,b){return b.subscribe(new ze(a,this.defaultValue))},a}(),ze=function(a){function b(b,c){a.call(this,b),this.defaultValue=c,this.isEmpty=!0}return c(b,a),b.prototype._next=function(a){this.isEmpty=!1,this.destination.next(a)},b.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},b}(x),F.prototype.defaultIfEmpty=Ae,Ce=function(){function a(a,b){this.delay=a,this.scheduler=b}return a.prototype.call=function(a,b){return b.subscribe(new De(a,this.delay,this.scheduler))},a}(),De=function(a){function b(b,c,d){a.call(this,b),this.delay=c,this.scheduler=d,this.queue=[],this.active=!1,this.errored=!1}return c(b,a),b.dispatch=function(a){for(var f,b=a.source,c=b.queue,d=a.scheduler,e=a.destination;c.length>0&&c[0].time-d.now()<=0;)c.shift().notification.observe(e);c.length>0?(f=Math.max(0,c[0].time-d.now()),this.schedule(a,f)):b.active=!1},b.prototype._schedule=function(a){this.active=!0,this.add(a.schedule(b.dispatch,this.delay,{source:this,destination:this.destination,scheduler:a}))},b.prototype.scheduleNotification=function(a){var b,c;this.errored!==!0&&(b=this.scheduler,c=new Ee(b.now()+this.delay,a),this.queue.push(c),this.active===!1&&this._schedule(b))},b.prototype._next=function(a){this.scheduleNotification(wb.createNext(a))},b.prototype._error=function(a){this.errored=!0,this.queue=[],this.destination.error(a)},b.prototype._complete=function(){this.scheduleNotification(wb.createComplete())},b}(x),Ee=function(){function a(a,b){this.time=a,this.notification=b}return a}(),F.prototype.delay=Fe,He=function(){function a(a){this.delayDurationSelector=a}return a.prototype.call=function(a,b){return b.subscribe(new Ie(a,this.delayDurationSelector))},a}(),Ie=function(a){function b(b,c){a.call(this,b),this.delayDurationSelector=c,this.completed=!1,this.delayNotifierSubscriptions=[],this.values=[]}return c(b,a),b.prototype.notifyNext=function(a,b,c,d,e){this.destination.next(a),this.removeSubscription(e),this.tryComplete()},b.prototype.notifyError=function(a){this._error(a)},b.prototype.notifyComplete=function(a){var b=this.removeSubscription(a);b&&this.destination.next(b),this.tryComplete()},b.prototype._next=function(a){try{var b=this.delayDurationSelector(a);b&&this.tryDelay(b,a)}catch(c){this.destination.error(c)}},b.prototype._complete=function(){this.completed=!0,this.tryComplete()},b.prototype.removeSubscription=function(a){var b,c;return a.unsubscribe(),b=this.delayNotifierSubscriptions.indexOf(a),c=null,-1!==b&&(c=this.values[b],this.delayNotifierSubscriptions.splice(b,1),this.values.splice(b,1)),c},b.prototype.tryDelay=function(a,b){var c=db(this,a,b);c&&!c.closed&&(this.add(c),this.delayNotifierSubscriptions.push(c)),this.values.push(b)},b.prototype.tryComplete=function(){this.completed&&0===this.delayNotifierSubscriptions.length&&this.destination.complete()},b}(Z),Je=function(a){function b(b,c){a.call(this),this.source=b,this.subscriptionDelay=c}return c(b,a),b.prototype._subscribe=function(a){this.subscriptionDelay.subscribe(new Ke(a,this.source))},b}(F),Ke=function(a){function b(b,c){a.call(this),this.parent=b,this.source=c,this.sourceSubscribed=!1}return c(b,a),b.prototype._next=function(){this.subscribeToSource()},b.prototype._error=function(a){this.unsubscribe(),this.parent.error(a)},b.prototype._complete=function(){this.subscribeToSource()},b.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},b}(x),F.prototype.delayWhen=Le,Ne=j.Set||Me(),Pe=function(){function a(a,b){this.keySelector=a,this.flushes=b}return a.prototype.call=function(a,b){return b.subscribe(new Qe(a,this.keySelector,this.flushes))},a}(),Qe=function(a){function b(b,c,d){a.call(this,b),this.keySelector=c,this.values=new Ne,d&&this.add(db(this,d))}return c(b,a),b.prototype.notifyNext=function(){this.values.clear()},b.prototype.notifyError=function(a){this._error(a)},b.prototype._next=function(a){this.keySelector?this._useKeySelector(a):this._finalizeNext(a,a)},b.prototype._useKeySelector=function(a){var b,c=this.destination;try{b=this.keySelector(a)}catch(d){return c.error(d),void 0}this._finalizeNext(b,a)},b.prototype._finalizeNext=function(a,b){var c=this.values;c.has(a)||(c.add(a),this.destination.next(b))},b}(Z),F.prototype.distinct=Re,Te=function(){function a(a,b){this.compare=a,this.keySelector=b}return a.prototype.call=function(a,b){return b.subscribe(new Ue(a,this.compare,this.keySelector))},a}(),Ue=function(a){function b(b,c,d){a.call(this,b),this.keySelector=d,this.hasKey=!1,"function"==typeof c&&(this.compare=c)}return c(b,a),b.prototype.compare=function(a,b){return a===b},b.prototype._next=function(a){var d,b=this.keySelector,c=a;if(b&&(c=q(this.keySelector)(a),c===n))return this.destination.error(n.e);if(d=!1,this.hasKey){if(d=q(this.compare)(this.key,c),d===n)return this.destination.error(n.e)}else this.hasKey=!0;Boolean(d)===!1&&(this.key=c,this.destination.next(a))},b}(x),F.prototype.distinctUntilChanged=Ve,F.prototype.distinctUntilKeyChanged=Xe,Ze=function(){function a(a,b,c){this.nextOrObserver=a,this.error=b,this.complete=c}return a.prototype.call=function(a,b){return b.subscribe(new $e(a,this.nextOrObserver,this.error,this.complete))},a}(),$e=function(a){function b(b,c,d,e){a.call(this,b);var f=new x(c,d,e);f.syncErrorThrowable=!0,this.add(f),this.safeSubscriber=f}return c(b,a),b.prototype._next=function(a){var b=this.safeSubscriber;b.next(a),b.syncErrorThrown?this.destination.error(b.syncErrorValue):this.destination.next(a)},b.prototype._error=function(a){var b=this.safeSubscriber;b.error(a),b.syncErrorThrown?this.destination.error(b.syncErrorValue):this.destination.error(a)},b.prototype._complete=function(){var a=this.safeSubscriber;a.complete(),a.syncErrorThrown?this.destination.error(a.syncErrorValue):this.destination.complete()},b}(x),F.prototype.do=_e,F.prototype._do=_e,bf=function(){function a(){}return a.prototype.call=function(a,b){return b.subscribe(new cf(a))},a}(),cf=function(a){function b(b){a.call(this,b),this.hasCompleted=!1,this.hasSubscription=!1}return c(b,a),b.prototype._next=function(a){this.hasSubscription||(this.hasSubscription=!0,this.add(db(this,a)))},b.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},b.prototype.notifyComplete=function(a){this.remove(a),this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},b}(Z),F.prototype.exhaust=df,ff=function(){function a(a,b){this.project=a,this.resultSelector=b}return a.prototype.call=function(a,b){return b.subscribe(new gf(a,this.project,this.resultSelector))},a}(),gf=function(a){function b(b,c,d){a.call(this,b),this.project=c,this.resultSelector=d,this.hasSubscription=!1,this.hasCompleted=!1,this.index=0}return c(b,a),b.prototype._next=function(a){this.hasSubscription||this.tryNext(a)},b.prototype.tryNext=function(a){var d,b=this.index++,c=this.destination;try{d=this.project(a,b),this.hasSubscription=!0,this.add(db(this,d,a,b))}catch(e){c.error(e)}},b.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},b.prototype.notifyNext=function(a,b,c,d){var f=this,g=f.resultSelector,h=f.destination;g?this.trySelectResult(a,b,c,d):h.next(b)},b.prototype.trySelectResult=function(a,b,c,d){var h,e=this,f=e.resultSelector,g=e.destination;try{h=f(a,b,c,d),g.next(h)}catch(i){g.error(i)}},b.prototype.notifyError=function(a){this.destination.error(a)},b.prototype.notifyComplete=function(a){this.remove(a),this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},b}(Z),F.prototype.exhaustMap=hf,kf=function(){function a(a,b,c){this.project=a,this.concurrent=b,this.scheduler=c}return a.prototype.call=function(a,b){return b.subscribe(new lf(a,this.project,this.concurrent,this.scheduler))},a}(),lf=function(a){function b(b,c,d,e){a.call(this,b),this.project=c,this.concurrent=d,this.scheduler=e,this.index=0,this.active=0,this.hasCompleted=!1,d<Number.POSITIVE_INFINITY&&(this.buffer=[])}return c(b,a),b.dispatch=function(a){var b=a.subscriber,c=a.result,d=a.value,e=a.index;b.subscribeToProjection(c,d,e)},b.prototype._next=function(a){var d,e,f,c=this.destination;return c.closed?(this._complete(),void 0):(d=this.index++,this.active<this.concurrent?(c.next(a),e=q(this.project)(a,d),e===n?c.error(n.e):this.scheduler?(f={subscriber:this,result:e,value:a,index:d},this.add(this.scheduler.schedule(b.dispatch,0,f))):this.subscribeToProjection(e,a,d)):this.buffer.push(a),void 0)},b.prototype.subscribeToProjection=function(a,b,c){this.active++,this.add(db(this,a,b,c))},b.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&0===this.active&&this.destination.complete()},b.prototype.notifyNext=function(a,b){this._next(b)},b.prototype.notifyComplete=function(a){var b=this.buffer;this.remove(a),this.active--,b&&b.length>0&&this._next(b.shift()),this.hasCompleted&&0===this.active&&this.destination.complete()},b}(Z),F.prototype.expand=mf,nf=function(a){function b(){var b=a.call(this,"argument out of range");this.name=b.name="ArgumentOutOfRangeError",this.stack=b.stack,this.message=b.message}return c(b,a),b}(Error),pf=function(){function a(a,b){if(this.index=a,this.defaultValue=b,0>a)throw new nf}return a.prototype.call=function(a,b){return b.subscribe(new qf(a,this.index,this.defaultValue))},a}(),qf=function(a){function b(b,c,d){a.call(this,b),this.index=c,this.defaultValue=d}return c(b,a),b.prototype._next=function(a){0===this.index--&&(this.destination.next(a),this.destination.complete())},b.prototype._complete=function(){var a=this.destination;this.index>=0&&("undefined"!=typeof this.defaultValue?a.next(this.defaultValue):a.error(new nf)),a.complete()},b}(x),F.prototype.elementAt=rf,tf=function(){function a(a,b){this.predicate=a,this.thisArg=b}return a.prototype.call=function(a,b){return b.subscribe(new uf(a,this.predicate,this.thisArg))},a}(),uf=function(a){function b(b,c,d){a.call(this,b),this.predicate=c,this.thisArg=d,this.count=0}return c(b,a),b.prototype._next=function(a){var b;try{b=this.predicate.call(this.thisArg,a,this.count++)}catch(c){return this.destination.error(c),void 0}b&&this.destination.next(a)},b}(x),F.prototype.filter=vf,xf=function(){function a(a){this.callback=a}return a.prototype.call=function(a,b){return b.subscribe(new yf(a,this.callback))},a}(),yf=function(a){function b(b,c){a.call(this,b),this.add(new s(c))}return c(b,a),b}(x),F.prototype.finally=zf,F.prototype._finally=zf,Bf=function(){function a(a,b,c,d){this.predicate=a,this.source=b,this.yieldIndex=c,this.thisArg=d}return a.prototype.call=function(a,b){return b.subscribe(new Cf(a,this.predicate,this.source,this.yieldIndex,this.thisArg))},a}(),Cf=function(a){function b(b,c,d,e,f){a.call(this,b),this.predicate=c,this.source=d,this.yieldIndex=e,this.thisArg=f,this.index=0}return c(b,a),b.prototype.notifyComplete=function(a){var b=this.destination;b.next(a),b.complete()},b.prototype._next=function(a){var f,b=this,c=b.predicate,d=b.thisArg,e=this.index++;try{f=c.call(d||this,a,e,this.source),f&&this.notifyComplete(this.yieldIndex?e:a)}catch(g){this.destination.error(g)}},b.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)},b}(x),F.prototype.find=Df,F.prototype.findIndex=Ff,Gf=function(a){function b(){var b=a.call(this,"no elements in sequence");this.name=b.name="EmptyError",this.stack=b.stack,this.message=b.message}return c(b,a),b}(Error),If=function(){function a(a,b,c,d){this.predicate=a,this.resultSelector=b,this.defaultValue=c,this.source=d}return a.prototype.call=function(a,b){return b.subscribe(new Jf(a,this.predicate,this.resultSelector,this.defaultValue,this.source))},a}(),Jf=function(a){function b(b,c,d,e,f){a.call(this,b),this.predicate=c,this.resultSelector=d,this.defaultValue=e,this.source=f,this.index=0,this.hasCompleted=!1,this._emitted=!1}return c(b,a),b.prototype._next=function(a){var b=this.index++;this.predicate?this._tryPredicate(a,b):this._emit(a,b)},b.prototype._tryPredicate=function(a,b){var c;try{c=this.predicate(a,b,this.source)}catch(d){return this.destination.error(d),void 0}c&&this._emit(a,b)},b.prototype._emit=function(a,b){return this.resultSelector?(this._tryResultSelector(a,b),void 0):(this._emitFinal(a),void 0)},b.prototype._tryResultSelector=function(a,b){var c;try{c=this.resultSelector(a,b)}catch(d){return this.destination.error(d),void 0}this._emitFinal(c)},b.prototype._emitFinal=function(a){var b=this.destination;this._emitted||(this._emitted=!0,b.next(a),b.complete(),this.hasCompleted=!0)},b.prototype._complete=function(){var a=this.destination;this.hasCompleted||"undefined"==typeof this.defaultValue?this.hasCompleted||a.error(new Gf):(a.next(this.defaultValue),a.complete())},b}(x),F.prototype.first=Kf,Lf=function(){function a(){this.size=0,this._values=[],this._keys=[]}return a.prototype.get=function(a){var b=this._keys.indexOf(a);return-1===b?void 0:this._values[b]},a.prototype.set=function(a,b){var c=this._keys.indexOf(a);return-1===c?(this._keys.push(a),this._values.push(b),this.size++):this._values[c]=b,this},a.prototype.delete=function(a){var b=this._keys.indexOf(a);return-1===b?!1:(this._values.splice(b,1),this._keys.splice(b,1),this.size--,!0)},a.prototype.clear=function(){this._keys.length=0,this._values.length=0,this.size=0},a.prototype.forEach=function(a,b){for(var c=0;c<this.size;c++)a.call(b,this._values[c],this._keys[c])},a}(),Mf=j.Map||function(){return Lf}(),Nf=function(){function a(){this.values={}}return a.prototype.delete=function(a){return this.values[a]=null,!0},a.prototype.set=function(a,b){return this.values[a]=b,this},a.prototype.get=function(a){return this.values[a]},a.prototype.forEach=function(a,b){var d,c=this.values;for(d in c)c.hasOwnProperty(d)&&null!==c[d]&&a.call(b,c[d],d)},a.prototype.clear=function(){this.values={}},a}(),Pf=function(){function a(a,b,c,d){this.keySelector=a,this.elementSelector=b,this.durationSelector=c,this.subjectSelector=d}return a.prototype.call=function(a,b){return b.subscribe(new Qf(a,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))},a}(),Qf=function(a){function b(b,c,d,e,f){a.call(this,b),this.keySelector=c,this.elementSelector=d,this.durationSelector=e,this.subjectSelector=f,this.groups=null,this.attemptedToUnsubscribe=!1,this.count=0}return c(b,a),b.prototype._next=function(a){var b;try{b=this.keySelector(a)}catch(c){return this.error(c),void 0}this._group(a,b)},b.prototype._group=function(a,b){var d,e,g,h,c=this.groups;if(c||(c=this.groups="string"==typeof b?new Nf:new Mf),d=c.get(b),this.elementSelector)try{e=this.elementSelector(a)}catch(f){this.error(f)}else e=a;if(!d&&(d=this.subjectSelector?this.subjectSelector():new J,c.set(b,d),g=new Sf(b,d,this),this.destination.next(g),this.durationSelector)){h=void 0;try{h=this.durationSelector(new Sf(b,d))}catch(f){return this.error(f),void 0}this.add(h.subscribe(new Rf(b,d,this)))}d.closed||d.next(e)},b.prototype._error=function(a){var b=this.groups;b&&(b.forEach(function(b){b.error(a)}),b.clear()),this.destination.error(a)},b.prototype._complete=function(){var a=this.groups;a&&(a.forEach(function(a){a.complete()}),a.clear()),this.destination.complete()},b.prototype.removeGroup=function(a){this.groups.delete(a)},b.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&a.prototype.unsubscribe.call(this))},b}(x),Rf=function(a){function b(b,c,d){a.call(this,c),this.key=b,this.group=c,this.parent=d}return c(b,a),b.prototype._next=function(){this.complete()},b.prototype._unsubscribe=function(){var a=this,b=a.parent,c=a.key;this.key=this.parent=null,b&&b.removeGroup(c)},b}(x),Sf=function(a){function b(b,c,d){a.call(this),this.key=b,this.groupSubject=c,this.refCountSubscription=d}return c(b,a),b.prototype._subscribe=function(a){var b=new s,c=this,d=c.refCountSubscription,e=c.groupSubject;return d&&!d.closed&&b.add(new Tf(d)),b.add(e.subscribe(a)),b
},b}(F),Tf=function(a){function b(b){a.call(this),this.parent=b,b.count++}return c(b,a),b.prototype.unsubscribe=function(){var b=this.parent;b.closed||this.closed||(a.prototype.unsubscribe.call(this),b.count-=1,0===b.count&&b.attemptedToUnsubscribe&&b.unsubscribe())},b}(s),F.prototype.groupBy=Uf,Wf=function(){function a(){}return a.prototype.call=function(a,b){return b.subscribe(new Xf(a))},a}(),Xf=function(a){function b(){a.apply(this,arguments)}return c(b,a),b.prototype._next=function(){C()},b}(x),F.prototype.ignoreElements=Yf,$f=function(){function a(){}return a.prototype.call=function(a,b){return b.subscribe(new _f(a))},a}(),_f=function(a){function b(b){a.call(this,b)}return c(b,a),b.prototype.notifyComplete=function(a){var b=this.destination;b.next(a),b.complete()},b.prototype._next=function(){this.notifyComplete(!1)},b.prototype._complete=function(){this.notifyComplete(!0)},b}(x),F.prototype.isEmpty=ag,cg=function(){function a(a){this.durationSelector=a}return a.prototype.call=function(a,b){return b.subscribe(new dg(a,this.durationSelector))},a}(),dg=function(a){function b(b,c){a.call(this,b),this.durationSelector=c,this.hasValue=!1}return c(b,a),b.prototype._next=function(a){var b,c;this.value=a,this.hasValue=!0,this.throttled||(b=q(this.durationSelector)(a),b===n?this.destination.error(n.e):(c=db(this,b),c.closed?this.clearThrottle():this.add(this.throttled=c)))},b.prototype.clearThrottle=function(){var a=this,b=a.value,c=a.hasValue,d=a.throttled;d&&(this.remove(d),this.throttled=null,d.unsubscribe()),c&&(this.value=null,this.hasValue=!1,this.destination.next(b))},b.prototype.notifyNext=function(){this.clearThrottle()},b.prototype.notifyComplete=function(){this.clearThrottle()},b}(Z),F.prototype.audit=eg,F.prototype.auditTime=gg,ig=function(){function a(a,b,c,d){this.predicate=a,this.resultSelector=b,this.defaultValue=c,this.source=d}return a.prototype.call=function(a,b){return b.subscribe(new jg(a,this.predicate,this.resultSelector,this.defaultValue,this.source))},a}(),jg=function(a){function b(b,c,d,e,f){a.call(this,b),this.predicate=c,this.resultSelector=d,this.defaultValue=e,this.source=f,this.hasValue=!1,this.index=0,"undefined"!=typeof e&&(this.lastValue=e,this.hasValue=!0)}return c(b,a),b.prototype._next=function(a){var b=this.index++;if(this.predicate)this._tryPredicate(a,b);else{if(this.resultSelector)return this._tryResultSelector(a,b),void 0;this.lastValue=a,this.hasValue=!0}},b.prototype._tryPredicate=function(a,b){var c;try{c=this.predicate(a,b,this.source)}catch(d){return this.destination.error(d),void 0}if(c){if(this.resultSelector)return this._tryResultSelector(a,b),void 0;this.lastValue=a,this.hasValue=!0}},b.prototype._tryResultSelector=function(a,b){var c;try{c=this.resultSelector(a,b)}catch(d){return this.destination.error(d),void 0}this.lastValue=c,this.hasValue=!0},b.prototype._complete=function(){var a=this.destination;this.hasValue?(a.next(this.lastValue),a.complete()):a.error(new Gf)},b}(x),F.prototype.last=kg,F.prototype.let=lg,F.prototype.letBind=lg,ng=function(){function a(a,b,c){this.predicate=a,this.thisArg=b,this.source=c}return a.prototype.call=function(a,b){return b.subscribe(new og(a,this.predicate,this.thisArg,this.source))},a}(),og=function(a){function b(b,c,d,e){a.call(this,b),this.predicate=c,this.thisArg=d,this.source=e,this.index=0,this.thisArg=d||this}return c(b,a),b.prototype.notifyComplete=function(a){this.destination.next(a),this.destination.complete()},b.prototype._next=function(a){var b=!1;try{b=this.predicate.call(this.thisArg,a,this.index++,this.source)}catch(c){return this.destination.error(c),void 0}b||this.notifyComplete(!1)},b.prototype._complete=function(){this.notifyComplete(!0)},b}(x),F.prototype.every=pg,F.prototype.map=qg,sg=function(){function a(a){this.value=a}return a.prototype.call=function(a,b){return b.subscribe(new tg(a,this.value))},a}(),tg=function(a){function b(b,c){a.call(this,b),this.value=c}return c(b,a),b.prototype._next=function(){this.destination.next(this.value)},b}(x),F.prototype.mapTo=ug,wg=function(){function a(){}return a.prototype.call=function(a,b){return b.subscribe(new xg(a))},a}(),xg=function(a){function b(b){a.call(this,b)}return c(b,a),b.prototype._next=function(a){this.destination.next(wb.createNext(a))},b.prototype._error=function(a){var b=this.destination;b.next(wb.createError(a)),b.complete()},b.prototype._complete=function(){var a=this.destination;a.next(wb.createComplete()),a.complete()},b}(x),F.prototype.materialize=yg,Ag=function(){function a(a,b,c){void 0===c&&(c=!1),this.accumulator=a,this.seed=b,this.hasSeed=c}return a.prototype.call=function(a,b){return b.subscribe(new Bg(a,this.accumulator,this.seed,this.hasSeed))},a}(),Bg=function(a){function b(b,c,d,e){a.call(this,b),this.accumulator=c,this._seed=d,this.hasSeed=e,this.index=0}return c(b,a),Object.defineProperty(b.prototype,"seed",{get:function(){return this._seed},set:function(a){this.hasSeed=!0,this._seed=a},enumerable:!0,configurable:!0}),b.prototype._next=function(a){return this.hasSeed?this._tryNext(a):(this.seed=a,this.destination.next(a),void 0)},b.prototype._tryNext=function(a){var c,b=this.index++;try{c=this.accumulator(this.seed,a,b)}catch(d){this.destination.error(d)}this.seed=c,this.destination.next(c)},b}(x),Dg=function(){function a(a){if(this.total=a,this.total<0)throw new nf}return a.prototype.call=function(a,b){return b.subscribe(new Eg(a,this.total))},a}(),Eg=function(a){function b(b,c){a.call(this,b),this.total=c,this.ring=new Array,this.count=0}return c(b,a),b.prototype._next=function(a){var e,b=this.ring,c=this.total,d=this.count++;b.length<c?b.push(a):(e=d%c,b[e]=a)},b.prototype._complete=function(){var c,d,e,f,a=this.destination,b=this.count;if(b>0)for(c=this.count>=this.total?this.total:this.count,d=this.ring,e=0;c>e;e++)f=b++%c,a.next(d[f]);a.complete()},b}(x),F.prototype.max=Hg,F.prototype.merge=Jg,F.prototype.mergeAll=Kg,F.prototype.mergeMap=Lg,F.prototype.flatMap=Lg,Ng=function(){function a(a,b,c){void 0===c&&(c=Number.POSITIVE_INFINITY),this.ish=a,this.resultSelector=b,this.concurrent=c}return a.prototype.call=function(a,b){return b.subscribe(new Og(a,this.ish,this.resultSelector,this.concurrent))},a}(),Og=function(a){function b(b,c,d,e){void 0===e&&(e=Number.POSITIVE_INFINITY),a.call(this,b),this.ish=c,this.resultSelector=d,this.concurrent=e,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}return c(b,a),b.prototype._next=function(a){var b,c,d,e;this.active<this.concurrent?(b=this.resultSelector,c=this.index++,d=this.ish,e=this.destination,this.active++,this._innerSub(d,e,b,a,c)):this.buffer.push(a)},b.prototype._innerSub=function(a,b,c,d,e){this.add(db(this,a,d,e))},b.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},b.prototype.notifyNext=function(a,b,c,d){var f=this,g=f.resultSelector,h=f.destination;g?this.trySelectResult(a,b,c,d):h.next(b)},b.prototype.trySelectResult=function(a,b,c,d){var h,e=this,f=e.resultSelector,g=e.destination;try{h=f(a,b,c,d)}catch(i){return g.error(i),void 0}g.next(h)},b.prototype.notifyError=function(a){this.destination.error(a)},b.prototype.notifyComplete=function(a){var b=this.buffer;this.remove(a),this.active--,b.length>0?this._next(b.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},b}(Z),F.prototype.flatMapTo=Pg,F.prototype.mergeMapTo=Pg,Rg=function(){function a(a,b,c){this.accumulator=a,this.seed=b,this.concurrent=c}return a.prototype.call=function(a,b){return b.subscribe(new Sg(a,this.accumulator,this.seed,this.concurrent))},a}(),Sg=function(a){function b(b,c,d,e){a.call(this,b),this.accumulator=c,this.acc=d,this.concurrent=e,this.hasValue=!1,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}return c(b,a),b.prototype._next=function(a){var b,c,d;this.active<this.concurrent?(b=this.index++,c=q(this.accumulator)(this.acc,a),d=this.destination,c===n?d.error(n.e):(this.active++,this._innerSub(c,a,b))):this.buffer.push(a)},b.prototype._innerSub=function(a,b,c){this.add(db(this,a,b,c))},b.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete())},b.prototype.notifyNext=function(a,b){var f=this.destination;this.acc=b,this.hasValue=!0,f.next(b)},b.prototype.notifyComplete=function(a){var b=this.buffer;this.remove(a),this.active--,b.length>0?this._next(b.shift()):0===this.active&&this.hasCompleted&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete())},b}(Z),F.prototype.mergeScan=Tg,F.prototype.min=Vg,Xg=function(){function a(a){this.connectable=a}return a.prototype.call=function(a,b){var d,e,c=this.connectable;return c._refCount++,d=new Yg(a,c),e=b.subscribe(d),d.closed||(d.connection=c.connect()),e},a}(),Yg=function(a){function b(b,c){a.call(this,b),this.connectable=c}return c(b,a),b.prototype._unsubscribe=function(){var b,c,d,a=this.connectable;return a?(this.connectable=null,b=a._refCount,0>=b?(this.connection=null,void 0):(a._refCount=b-1,b>1?(this.connection=null,void 0):(c=this.connection,d=a._connection,this.connection=null,!d||c&&d!==c||d.unsubscribe(),void 0))):(this.connection=null,void 0)},b}(x),Zg=function(a){function b(b,c){a.call(this),this.source=b,this.subjectFactory=c,this._refCount=0,this._isComplete=!1}return c(b,a),b.prototype._subscribe=function(a){return this.getSubject().subscribe(a)},b.prototype.getSubject=function(){var a=this._subject;return(!a||a.isStopped)&&(this._subject=this.subjectFactory()),this._subject},b.prototype.connect=function(){var a=this._connection;return a||(this._isComplete=!1,a=this._connection=new s,a.add(this.source.subscribe(new ah(this.getSubject(),this))),a.closed?(this._connection=null,a=s.EMPTY):this._connection=a),a},b.prototype.refCount=function(){return Wg()(this)},b}(F),$g=Zg.prototype,_g={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:$g._subscribe},_isComplete:{value:$g._isComplete,writable:!0},getSubject:{value:$g.getSubject},connect:{value:$g.connect},refCount:{value:$g.refCount}},ah=function(a){function b(b,c){a.call(this,b),this.connectable=c}return c(b,a),b.prototype._error=function(b){this._unsubscribe(),a.prototype._error.call(this,b)},b.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),a.prototype._complete.call(this)},b.prototype._unsubscribe=function(){var b,a=this.connectable;a&&(this.connectable=null,b=a._connection,a._refCount=0,a._subject=null,a._connection=null,b&&b.unsubscribe())},b}(I),function(a){function b(b,c){a.call(this,b),this.connectable=c}return c(b,a),b.prototype._unsubscribe=function(){var b,c,d,a=this.connectable;return a?(this.connectable=null,b=a._refCount,0>=b?(this.connection=null,void 0):(a._refCount=b-1,b>1?(this.connection=null,void 0):(c=this.connection,d=a._connection,this.connection=null,!d||c&&d!==c||d.unsubscribe(),void 0))):(this.connection=null,void 0)},b}(x),dh=function(){function a(a,b){this.subjectFactory=a,this.selector=b}return a.prototype.call=function(a,b){var c=this.selector,d=this.subjectFactory(),e=c(d).subscribe(a);return e.add(b.subscribe(d)),e},a}(),F.prototype.multicast=eh,F.prototype.observeOn=fh,F.prototype.onErrorResumeNext=gh,ih=function(){function a(){}return a.prototype.call=function(a,b){return b.subscribe(new jh(a))},a}(),jh=function(a){function b(b){a.call(this,b),this.hasPrev=!1}return c(b,a),b.prototype._next=function(a){this.hasPrev?this.destination.next([this.prev,a]):this.hasPrev=!0,this.prev=a},b}(x),F.prototype.pairwise=kh,F.prototype.partition=nh,F.prototype.pluck=qh,F.prototype.publish=sh,th=function(a){function b(b){a.call(this),this._value=b}return c(b,a),Object.defineProperty(b.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),b.prototype._subscribe=function(b){var c=a.prototype._subscribe.call(this,b);return c&&!c.closed&&b.next(this._value),c},b.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new G;return this._value},b.prototype.next=function(b){a.prototype.next.call(this,this._value=b)},b}(J),F.prototype.publishBehavior=vh,F.prototype.publishReplay=xh,F.prototype.publishLast=zh,F.prototype.race=Bh,F.prototype.reduce=Ch,Eh=function(){function a(a,b){this.count=a,this.source=b}return a.prototype.call=function(a,b){return b.subscribe(new Fh(a,this.count,this.source))},a}(),Fh=function(a){function b(b,c,d){a.call(this,b),this.count=c,this.source=d}return c(b,a),b.prototype.complete=function(){if(!this.isStopped){var b=this,c=b.source,d=b.count;if(0===d)return a.prototype.complete.call(this);d>-1&&(this.count=d-1),c.subscribe(this._unsubscribeAndRecycle())}},b}(x),F.prototype.repeat=Gh,Ih=function(){function a(a){this.notifier=a}return a.prototype.call=function(a,b){return b.subscribe(new Jh(a,this.notifier,b))},a}(),Jh=function(a){function b(b,c,d){a.call(this,b),this.notifier=c,this.source=d,this.sourceIsBeingSubscribedTo=!0}return c(b,a),b.prototype.notifyNext=function(){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)},b.prototype.notifyComplete=function(){return this.sourceIsBeingSubscribedTo===!1?a.prototype.complete.call(this):void 0},b.prototype.complete=function(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries){if(this.retriesSubscription.closed)return a.prototype.complete.call(this)}else this.subscribeToRetries();this._unsubscribeAndRecycle(),this.notifications.next()}},b.prototype._unsubscribe=function(){var a=this,b=a.notifications,c=a.retriesSubscription;b&&(b.unsubscribe(),this.notifications=null),c&&(c.unsubscribe(),this.retriesSubscription=null),this.retries=null},b.prototype._unsubscribeAndRecycle=function(){var b=this,c=b.notifications,d=b.retries,e=b.retriesSubscription;return this.notifications=null,this.retries=null,this.retriesSubscription=null,a.prototype._unsubscribeAndRecycle.call(this),this.notifications=c,this.retries=d,this.retriesSubscription=e,this},b.prototype.subscribeToRetries=function(){this.notifications=new J;var b=q(this.notifier)(this.notifications);return b===n?a.prototype.complete.call(this):(this.retries=b,this.retriesSubscription=db(this,b),void 0)},b}(Z),F.prototype.repeatWhen=Kh,Mh=function(){function a(a,b){this.count=a,this.source=b}return a.prototype.call=function(a,b){return b.subscribe(new Nh(a,this.count,this.source))},a}(),Nh=function(a){function b(b,c,d){a.call(this,b),this.count=c,this.source=d}return c(b,a),b.prototype.error=function(b){if(!this.isStopped){var c=this,d=c.source,e=c.count;if(0===e)return a.prototype.error.call(this,b);e>-1&&(this.count=e-1),d.subscribe(this._unsubscribeAndRecycle())}},b}(x),F.prototype.retry=Oh,Qh=function(){function a(a,b){this.notifier=a,this.source=b}return a.prototype.call=function(a,b){return b.subscribe(new Rh(a,this.notifier,this.source))},a}(),Rh=function(a){function b(b,c,d){a.call(this,b),this.notifier=c,this.source=d}return c(b,a),b.prototype.error=function(b){var c,d,e;if(!this.isStopped){if(c=this.errors,d=this.retries,e=this.retriesSubscription,d)this.errors=null,this.retriesSubscription=null;else{if(c=new J,d=q(this.notifier)(c),d===n)return a.prototype.error.call(this,n.e);e=db(this,d)}this._unsubscribeAndRecycle(),this.errors=c,this.retries=d,this.retriesSubscription=e,c.next(b)}},b.prototype._unsubscribe=function(){var a=this,b=a.errors,c=a.retriesSubscription;b&&(b.unsubscribe(),this.errors=null),c&&(c.unsubscribe(),this.retriesSubscription=null),this.retries=null},b.prototype.notifyNext=function(){var f=this,g=f.errors,h=f.retries,i=f.retriesSubscription;this.errors=null,this.retries=null,this.retriesSubscription=null,this._unsubscribeAndRecycle(),this.errors=g,this.retries=h,this.retriesSubscription=i,this.source.subscribe(this)},b}(Z),F.prototype.retryWhen=Sh,Uh=function(){function a(a){this.notifier=a}return a.prototype.call=function(a,b){var c=new Vh(a),d=b.subscribe(c);return d.add(db(c,this.notifier)),d},a}(),Vh=function(a){function b(){a.apply(this,arguments),this.hasValue=!1}return c(b,a),b.prototype._next=function(a){this.value=a,this.hasValue=!0},b.prototype.notifyNext=function(){this.emitValue()},b.prototype.notifyComplete=function(){this.emitValue()},b.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},b}(Z),F.prototype.sample=Wh,Yh=function(){function a(a,b){this.period=a,this.scheduler=b}return a.prototype.call=function(a,b){return b.subscribe(new Zh(a,this.period,this.scheduler))},a}(),Zh=function(a){function b(b,c,d){a.call(this,b),this.period=c,this.scheduler=d,this.hasValue=!1,this.add(d.schedule($h,c,{subscriber:this,period:c}))}return c(b,a),b.prototype._next=function(a){this.lastValue=a,this.hasValue=!0},b.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},b}(x),F.prototype.sampleTime=_h,F.prototype.scan=ai,ci=function(){function a(a,b){this.compareTo=a,this.comparor=b}return a.prototype.call=function(a,b){return b.subscribe(new di(a,this.compareTo,this.comparor))},a}(),di=function(a){function b(b,c,d){a.call(this,b),this.compareTo=c,this.comparor=d,this._a=[],this._b=[],this._oneComplete=!1,this.add(c.subscribe(new ei(b,this)))}return c(b,a),b.prototype._next=function(a){this._oneComplete&&0===this._b.length?this.emit(!1):(this._a.push(a),this.checkValues())},b.prototype._complete=function(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0},b.prototype.checkValues=function(){for(var e,f,g,a=this,b=a._a,c=a._b,d=a.comparor;b.length>0&&c.length>0;)e=b.shift(),f=c.shift(),g=!1,d?(g=q(d)(e,f),g===n&&this.destination.error(n.e)):g=e===f,g||this.emit(!1)},b.prototype.emit=function(a){var b=this.destination;b.next(a),b.complete()},b.prototype.nextB=function(a){this._oneComplete&&0===this._a.length?this.emit(!1):(this._b.push(a),this.checkValues())},b}(x),ei=function(a){function b(b,c){a.call(this,b),this.parent=c}return c(b,a),b.prototype._next=function(a){this.parent.nextB(a)},b.prototype._error=function(a){this.parent.error(a)},b.prototype._complete=function(){this.parent._complete()},b}(x),F.prototype.sequenceEqual=fi,F.prototype.share=ii,F.prototype.shareReplay=li,ni=function(){function a(a,b){this.predicate=a,this.source=b}return a.prototype.call=function(a,b){return b.subscribe(new oi(a,this.predicate,this.source))},a}(),oi=function(a){function b(b,c,d){a.call(this,b),this.predicate=c,this.source=d,this.seenValue=!1,this.index=0}return c(b,a),b.prototype.applySingleValue=function(a){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=a)},b.prototype._next=function(a){var b=this.index++;this.predicate?this.tryNext(a,b):this.applySingleValue(a)},b.prototype.tryNext=function(a,b){try{this.predicate(a,b,this.source)&&this.applySingleValue(a)}catch(c){this.destination.error(c)}},b.prototype._complete=function(){var a=this.destination;this.index>0?(a.next(this.seenValue?this.singleValue:void 0),a.complete()):a.error(new Gf)},b}(x),F.prototype.single=pi,ri=function(){function a(a){this.total=a}return a.prototype.call=function(a,b){return b.subscribe(new si(a,this.total))},a}(),si=function(a){function b(b,c){a.call(this,b),this.total=c,this.count=0}return c(b,a),b.prototype._next=function(a){++this.count>this.total&&this.destination.next(a)},b}(x),F.prototype.skip=ti,vi=function(){function a(a){if(this._skipCount=a,this._skipCount<0)throw new nf}return a.prototype.call=function(a,b){return 0===this._skipCount?b.subscribe(new x(a)):b.subscribe(new wi(a,this._skipCount))},a}(),wi=function(a){function b(b,c){a.call(this,b),this._skipCount=c,this._count=0,this._ring=new Array(c)}return c(b,a),b.prototype._next=function(a){var d,e,f,b=this._skipCount,c=this._count++;b>c?this._ring[c]=a:(d=c%b,e=this._ring,f=e[d],e[d]=a,this.destination.next(f))},b}(x),F.prototype.skipLast=xi,zi=function(){function a(a){this.notifier=a}return a.prototype.call=function(a,b){return b.subscribe(new Ai(a,this.notifier))},a}(),Ai=function(a){function b(b,c){a.call(this,b),this.hasValue=!1,this.isInnerStopped=!1,this.add(db(this,c))}return c(b,a),b.prototype._next=function(b){this.hasValue&&a.prototype._next.call(this,b)},b.prototype._complete=function(){this.isInnerStopped?a.prototype._complete.call(this):this.unsubscribe()},b.prototype.notifyNext=function(){this.hasValue=!0},b.prototype.notifyComplete=function(){this.isInnerStopped=!0,this.isStopped&&a.prototype._complete.call(this)},b}(Z),F.prototype.skipUntil=Bi,Di=function(){function a(a){this.predicate=a}return a.prototype.call=function(a,b){return b.subscribe(new Ei(a,this.predicate))},a}(),Ei=function(a){function b(b,c){a.call(this,b),this.predicate=c,this.skipping=!0,this.index=0}return c(b,a),b.prototype._next=function(a){var b=this.destination;this.skipping&&this.tryCallPredicate(a),this.skipping||b.next(a)},b.prototype.tryCallPredicate=function(a){try{var b=this.predicate(a,this.index++);this.skipping=Boolean(b)}catch(c){this.destination.error(c)}},b}(x),F.prototype.skipWhile=Fi,F.prototype.startWith=Hi,Ii=function(){function a(a){if(this.root=a,a.setImmediate&&"function"==typeof a.setImmediate)this.setImmediate=a.setImmediate.bind(a),this.clearImmediate=a.clearImmediate.bind(a);else{this.nextHandle=1,this.tasksByHandle={},this.currentlyRunningATask=!1,this.setImmediate=this.canUseProcessNextTick()?this.createProcessNextTickSetImmediate():this.canUsePostMessage()?this.createPostMessageSetImmediate():this.canUseMessageChannel()?this.createMessageChannelSetImmediate():this.canUseReadyStateChange()?this.createReadyStateChangeSetImmediate():this.createSetTimeoutSetImmediate();var b=function c(a){delete c.instance.tasksByHandle[a]};b.instance=this,this.clearImmediate=b}}return a.prototype.identify=function(a){return this.root.Object.prototype.toString.call(a)},a.prototype.canUseProcessNextTick=function(){return"[object process]"===this.identify(this.root.process)},a.prototype.canUseMessageChannel=function(){return Boolean(this.root.MessageChannel)},a.prototype.canUseReadyStateChange=function(){var a=this.root.document;return Boolean(a&&"onreadystatechange"in a.createElement("script"))},a.prototype.canUsePostMessage=function(){var b,c,a=this.root;return a.postMessage&&!a.importScripts?(b=!0,c=a.onmessage,a.onmessage=function(){b=!1},a.postMessage("","*"),a.onmessage=c,b):!1},a.prototype.partiallyApplied=function(a){var c,d,b=[];for(c=1;c<arguments.length;c++)b[c-1]=arguments[c];return d=function e(){var a=e,b=a.handler,c=a.args;"function"==typeof b?b.apply(void 0,c):new Function(""+b)()},d.handler=a,d.args=b,d},a.prototype.addFromSetImmediateArguments=function(a){return this.tasksByHandle[this.nextHandle]=this.partiallyApplied.apply(void 0,a),this.nextHandle++},a.prototype.createProcessNextTickSetImmediate=function(){var a=function b(){var a=b.instance,c=a.addFromSetImmediateArguments(arguments);return a.root.process.nextTick(a.partiallyApplied(a.runIfPresent,c)),c};return a.instance=this,a},a.prototype.createPostMessageSetImmediate=function(){var d,a=this.root,b="setImmediate$"+a.Math.random()+"$",c=function e(c){var d=e.instance;c.source===a&&"string"==typeof c.data&&0===c.data.indexOf(b)&&d.runIfPresent(+c.data.slice(b.length))};return c.instance=this,a.addEventListener("message",c,!1),d=function f(){var a=f,b=a.messagePrefix,c=a.instance,d=c.addFromSetImmediateArguments(arguments);return c.root.postMessage(b+d,"*"),d},d.instance=this,d.messagePrefix=b,d},a.prototype.runIfPresent=function(a){if(this.currentlyRunningATask)this.root.setTimeout(this.partiallyApplied(this.runIfPresent,a),0);else{var b=this.tasksByHandle[a];if(b){this.currentlyRunningATask=!0;try{b()}finally{this.clearImmediate(a),this.currentlyRunningATask=!1}}}},a.prototype.createMessageChannelSetImmediate=function(){var c,a=this,b=new this.root.MessageChannel;return b.port1.onmessage=function(b){var c=b.data;a.runIfPresent(c)},c=function d(){var a=d,b=a.channel,c=a.instance,e=c.addFromSetImmediateArguments(arguments);return b.port2.postMessage(e),e},c.channel=b,c.instance=this,c},a.prototype.createReadyStateChangeSetImmediate=function(){var a=function b(){var a=b.instance,c=a.root,d=c.document,e=d.documentElement,f=a.addFromSetImmediateArguments(arguments),g=d.createElement("script");return g.onreadystatechange=function(){a.runIfPresent(f),g.onreadystatechange=null,e.removeChild(g),g=null},e.appendChild(g),f};return a.instance=this,a},a.prototype.createSetTimeoutSetImmediate=function(){var a=function b(){var a=b.instance,c=a.addFromSetImmediateArguments(arguments);return a.root.setTimeout(a.partiallyApplied(a.runIfPresent,c),0),c};return a.instance=this,a},a}(),Ji=new Ii(j),Ki=function(a){function b(b,c){a.call(this,b,c),this.scheduler=b,this.work=c}return c(b,a),b.prototype.requestAsyncId=function(b,c,d){return void 0===d&&(d=0),null!==d&&d>0?a.prototype.requestAsyncId.call(this,b,c,d):(b.actions.push(this),b.scheduled||(b.scheduled=Ji.setImmediate(b.flush.bind(b,null))))},b.prototype.recycleAsyncId=function(b,c,d){return void 0===d&&(d=0),null!==d&&d>0||null===d&&this.delay>0?a.prototype.recycleAsyncId.call(this,b,c,d):(0===b.actions.length&&(Ji.clearImmediate(c),b.scheduled=void 0),void 0)},b}(ic),Li=function(a){function b(){a.apply(this,arguments)}return c(b,a),b.prototype.flush=function(a){var b,c,d,e;this.active=!0,this.scheduled=void 0,b=this.actions,d=-1,e=b.length,a=a||b.shift();do if(c=a.execute(a.state,a.delay))break;while(++d<e&&(a=b.shift()));if(this.active=!1,c){for(;++d<e&&(a=b.shift());)a.unsubscribe();throw c}},b}(kc),Mi=new Li(Ki),Ni=function(a){function b(b,c,d){void 0===c&&(c=0),void 0===d&&(d=Mi),a.call(this),this.source=b,this.delayTime=c,this.scheduler=d,(!gc(c)||0>c)&&(this.delayTime=0),d&&"function"==typeof d.schedule||(this.scheduler=Mi)}return c(b,a),b.create=function(a,c,d){return void 0===c&&(c=0),void 0===d&&(d=Mi),new b(a,c,d)},b.dispatch=function(a){var b=a.source,c=a.subscriber;return this.add(b.subscribe(c))},b.prototype._subscribe=function(a){var c=this.delayTime,d=this.source,e=this.scheduler;return e.schedule(b.dispatch,c,{source:d,subscriber:a})},b}(F),Pi=function(){function a(a,b){this.scheduler=a,this.delay=b}return a.prototype.call=function(a,b){return new Ni(b,this.delay,this.scheduler).subscribe(a)},a}(),F.prototype.subscribeOn=Qi,Si=function(){function a(a,b){this.project=a,this.resultSelector=b}return a.prototype.call=function(a,b){return b.subscribe(new Ti(a,this.project,this.resultSelector))},a}(),Ti=function(a){function b(b,c,d){a.call(this,b),this.project=c,this.resultSelector=d,this.index=0}return c(b,a),b.prototype._next=function(a){var b,c=this.index++;try{b=this.project(a,c)}catch(d){return this.destination.error(d),void 0}this._innerSub(b,a,c)},b.prototype._innerSub=function(a,b,c){var d=this.innerSubscription;d&&d.unsubscribe(),this.add(this.innerSubscription=db(this,a,b,c))},b.prototype._complete=function(){var b=this.innerSubscription;(!b||b.closed)&&a.prototype._complete.call(this)},b.prototype._unsubscribe=function(){this.innerSubscription=null},b.prototype.notifyComplete=function(b){this.remove(b),this.innerSubscription=null,this.isStopped&&a.prototype._complete.call(this)},b.prototype.notifyNext=function(a,b,c,d){this.resultSelector?this._tryNotifyNext(a,b,c,d):this.destination.next(b)},b.prototype._tryNotifyNext=function(a,b,c,d){var e;try{e=this.resultSelector(a,b,c,d)}catch(f){return this.destination.error(f),void 0}this.destination.next(e)},b}(Z),F.prototype.switch=Vi,F.prototype._switch=Vi,F.prototype.switchMap=Wi,Yi=function(){function a(a,b){this.observable=a,this.resultSelector=b}return a.prototype.call=function(a,b){return b.subscribe(new Zi(a,this.observable,this.resultSelector))},a}(),Zi=function(a){function b(b,c,d){a.call(this,b),this.inner=c,this.resultSelector=d,this.index=0}return c(b,a),b.prototype._next=function(a){var b=this.innerSubscription;b&&b.unsubscribe(),this.add(this.innerSubscription=db(this,this.inner,a,this.index++))},b.prototype._complete=function(){var b=this.innerSubscription;(!b||b.closed)&&a.prototype._complete.call(this)},b.prototype._unsubscribe=function(){this.innerSubscription=null},b.prototype.notifyComplete=function(b){this.remove(b),this.innerSubscription=null,this.isStopped&&a.prototype._complete.call(this)},b.prototype.notifyNext=function(a,b,c,d){var f=this,g=f.resultSelector,h=f.destination;g?this.tryResultSelector(a,b,c,d):h.next(b)},b.prototype.tryResultSelector=function(a,b,c,d){var h,e=this,f=e.resultSelector,g=e.destination;try{h=f(a,b,c,d)}catch(i){return g.error(i),void 0}g.next(h)},b}(Z),F.prototype.switchMapTo=$i,aj=function(){function a(a){if(this.total=a,this.total<0)throw new nf}return a.prototype.call=function(a,b){return b.subscribe(new bj(a,this.total))},a}(),bj=function(a){function b(b,c){a.call(this,b),this.total=c,this.count=0}return c(b,a),b.prototype._next=function(a){var b=this.total,c=++this.count;b>=c&&(this.destination.next(a),c===b&&(this.destination.complete(),this.unsubscribe()))},b}(x),F.prototype.take=cj,F.prototype.takeLast=dj,fj=function(){function a(a){this.notifier=a}return a.prototype.call=function(a,b){return b.subscribe(new gj(a,this.notifier))},a}(),gj=function(a){function b(b,c){a.call(this,b),this.notifier=c,this.add(db(this,c))}return c(b,a),b.prototype.notifyNext=function(){this.complete()},b.prototype.notifyComplete=function(){},b}(Z),F.prototype.takeUntil=hj,jj=function(){function a(a){this.predicate=a}return a.prototype.call=function(a,b){return b.subscribe(new kj(a,this.predicate))},a}(),kj=function(a){function b(b,c){a.call(this,b),this.predicate=c,this.index=0}return c(b,a),b.prototype._next=function(a){var c,b=this.destination;try{c=this.predicate(a,this.index++)}catch(d){return b.error(d),void 0}this.nextOrComplete(a,c)},b.prototype.nextOrComplete=function(a,b){var c=this.destination;Boolean(b)?c.next(a):c.complete()},b}(x),F.prototype.takeWhile=lj,mj={leading:!0,trailing:!1},oj=function(){function a(a,b,c){this.durationSelector=a,this.leading=b,this.trailing=c}return a.prototype.call=function(a,b){return b.subscribe(new pj(a,this.durationSelector,this.leading,this.trailing))},a}(),pj=function(a){function b(b,c,d,e){a.call(this,b),this.destination=b,this.durationSelector=c,this._leading=d,this._trailing=e,this._hasTrailingValue=!1}return c(b,a),b.prototype._next=function(a){if(this.throttled)this._trailing&&(this._hasTrailingValue=!0,this._trailingValue=a);else{var b=this.tryDurationSelector(a);b&&this.add(this.throttled=db(this,b)),this._leading&&(this.destination.next(a),this._trailing&&(this._hasTrailingValue=!0,this._trailingValue=a))}},b.prototype.tryDurationSelector=function(a){try{return this.durationSelector(a)}catch(b){return this.destination.error(b),null}},b.prototype._unsubscribe=function(){var a=this,b=a.throttled;a._trailingValue,a._hasTrailingValue,a._trailing,this._trailingValue=null,this._hasTrailingValue=!1,b&&(this.remove(b),this.throttled=null,b.unsubscribe())},b.prototype._sendTrailing=function(){var a=this,b=a.destination,c=a.throttled,d=a._trailing,e=a._trailingValue,f=a._hasTrailingValue;c&&d&&f&&(b.next(e),this._trailingValue=null,this._hasTrailingValue=!1)},b.prototype.notifyNext=function(){this._sendTrailing(),this._unsubscribe()},b.prototype.notifyComplete=function(){this._sendTrailing(),this._unsubscribe()},b}(Z),F.prototype.throttle=qj,sj=function(){function a(a,b,c,d){this.duration=a,this.scheduler=b,this.leading=c,this.trailing=d}return a.prototype.call=function(a,b){return b.subscribe(new tj(a,this.duration,this.scheduler,this.leading,this.trailing))},a}(),tj=function(a){function b(b,c,d,e,f){a.call(this,b),this.duration=c,this.scheduler=d,this.leading=e,this.trailing=f,this._hasTrailingValue=!1,this._trailingValue=null}return c(b,a),b.prototype._next=function(a){this.throttled?this.trailing&&(this._trailingValue=a,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(uj,this.duration,{subscriber:this})),this.leading&&this.destination.next(a))
},b.prototype.clearThrottle=function(){var a=this.throttled;a&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),a.unsubscribe(),this.remove(a),this.throttled=null)},b}(x),F.prototype.throttleTime=vj,xj=function(){function a(a,b){this.value=a,this.interval=b}return a}(),yj=function(){function a(a){this.scheduler=a}return a.prototype.call=function(a,b){return b.subscribe(new zj(a,this.scheduler))},a}(),zj=function(a){function b(b,c){a.call(this,b),this.scheduler=c,this.lastTime=0,this.lastTime=c.now()}return c(b,a),b.prototype._next=function(a){var b=this.scheduler.now(),c=b-this.lastTime;this.lastTime=b,this.destination.next(new xj(a,c))},b}(x),F.prototype.timeInterval=Aj,Bj=function(a){function b(){var b=a.call(this,"Timeout has occurred");this.name=b.name="TimeoutError",this.stack=b.stack,this.message=b.message}return c(b,a),b}(Error),Dj=function(){function a(a,b,c,d){this.waitFor=a,this.absoluteTimeout=b,this.scheduler=c,this.errorInstance=d}return a.prototype.call=function(a,b){return b.subscribe(new Ej(a,this.absoluteTimeout,this.waitFor,this.scheduler,this.errorInstance))},a}(),Ej=function(a){function b(b,c,d,e,f){a.call(this,b),this.absoluteTimeout=c,this.waitFor=d,this.scheduler=e,this.errorInstance=f,this.action=null,this.scheduleTimeout()}return c(b,a),b.dispatchTimeout=function(a){a.error(a.errorInstance)},b.prototype.scheduleTimeout=function(){var a=this.action;a?this.action=a.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(b.dispatchTimeout,this.waitFor,this))},b.prototype._next=function(b){this.absoluteTimeout||this.scheduleTimeout(),a.prototype._next.call(this,b)},b.prototype._unsubscribe=function(){this.action=null,this.scheduler=null,this.errorInstance=null},b}(x),F.prototype.timeout=Fj,Hj=function(){function a(a,b,c,d){this.waitFor=a,this.absoluteTimeout=b,this.withObservable=c,this.scheduler=d}return a.prototype.call=function(a,b){return b.subscribe(new Ij(a,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},a}(),Ij=function(a){function b(b,c,d,e,f){a.call(this,b),this.absoluteTimeout=c,this.waitFor=d,this.withObservable=e,this.scheduler=f,this.action=null,this.scheduleTimeout()}return c(b,a),b.dispatchTimeout=function(a){var b=a.withObservable;a._unsubscribeAndRecycle(),a.add(db(a,b))},b.prototype.scheduleTimeout=function(){var a=this.action;a?this.action=a.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(b.dispatchTimeout,this.waitFor,this))},b.prototype._next=function(b){this.absoluteTimeout||this.scheduleTimeout(),a.prototype._next.call(this,b)},b.prototype._unsubscribe=function(){this.action=null,this.scheduler=null,this.withObservable=null},b}(Z),F.prototype.timeoutWith=Jj,Lj=function(){function a(a,b){this.value=a,this.timestamp=b}return a}(),F.prototype.timestamp=Mj,F.prototype.toArray=Pj,Rj=function(){function a(a){this.windowBoundaries=a}return a.prototype.call=function(a,b){var c=new Sj(a),d=b.subscribe(c);return d.closed||c.add(db(c,this.windowBoundaries)),d},a}(),Sj=function(a){function b(b){a.call(this,b),this.window=new J,b.next(this.window)}return c(b,a),b.prototype.notifyNext=function(){this.openWindow()},b.prototype.notifyError=function(a){this._error(a)},b.prototype.notifyComplete=function(){this._complete()},b.prototype._next=function(a){this.window.next(a)},b.prototype._error=function(a){this.window.error(a),this.destination.error(a)},b.prototype._complete=function(){this.window.complete(),this.destination.complete()},b.prototype._unsubscribe=function(){this.window=null},b.prototype.openWindow=function(){var b,c,a=this.window;a&&a.complete(),b=this.destination,c=this.window=new J,b.next(c)},b}(Z),F.prototype.window=Tj,Vj=function(){function a(a,b){this.windowSize=a,this.startWindowEvery=b}return a.prototype.call=function(a,b){return b.subscribe(new Wj(a,this.windowSize,this.startWindowEvery))},a}(),Wj=function(a){function b(b,c,d){a.call(this,b),this.destination=b,this.windowSize=c,this.startWindowEvery=d,this.windows=[new J],this.count=0,b.next(this.windows[0])}return c(b,a),b.prototype._next=function(a){var g,h,i,b=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,c=this.destination,d=this.windowSize,e=this.windows,f=e.length;for(g=0;f>g&&!this.closed;g++)e[g].next(a);h=this.count-d+1,h>=0&&0===h%b&&!this.closed&&e.shift().complete(),0!==++this.count%b||this.closed||(i=new J,e.push(i),c.next(i))},b.prototype._error=function(a){var b=this.windows;if(b)for(;b.length>0&&!this.closed;)b.shift().error(a);this.destination.error(a)},b.prototype._complete=function(){var a=this.windows;if(a)for(;a.length>0&&!this.closed;)a.shift().complete();this.destination.complete()},b.prototype._unsubscribe=function(){this.count=0,this.windows=null},b}(x),F.prototype.windowCount=Xj,Zj=function(){function a(a,b,c,d){this.windowTimeSpan=a,this.windowCreationInterval=b,this.maxWindowSize=c,this.scheduler=d}return a.prototype.call=function(a,b){return b.subscribe(new _j(a,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))},a}(),$j=function(a){function b(){a.apply(this,arguments),this._numberOfNextedValues=0}return c(b,a),b.prototype.next=function(b){this._numberOfNextedValues++,a.prototype.next.call(this,b)},Object.defineProperty(b.prototype,"numberOfNextedValues",{get:function(){return this._numberOfNextedValues},enumerable:!0,configurable:!0}),b}(J),_j=function(a){function b(b,c,d,e,f){var g,h,i,j;a.call(this,b),this.destination=b,this.windowTimeSpan=c,this.windowCreationInterval=d,this.maxWindowSize=e,this.scheduler=f,this.windows=[],g=this.openWindow(),null!==d&&d>=0?(h={subscriber:this,window:g,context:null},i={windowTimeSpan:c,windowCreationInterval:d,subscriber:this,scheduler:f},this.add(f.schedule(ck,c,h)),this.add(f.schedule(bk,d,i))):(j={subscriber:this,window:g,windowTimeSpan:c},this.add(f.schedule(ak,c,j)))}return c(b,a),b.prototype._next=function(a){var d,e,b=this.windows,c=b.length;for(d=0;c>d;d++)e=b[d],e.closed||(e.next(a),e.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(e))},b.prototype._error=function(a){for(var b=this.windows;b.length>0;)b.shift().error(a);this.destination.error(a)},b.prototype._complete=function(){for(var b,a=this.windows;a.length>0;)b=a.shift(),b.closed||b.complete();this.destination.complete()},b.prototype.openWindow=function(){var b,a=new $j;return this.windows.push(a),b=this.destination,b.next(a),a},b.prototype.closeWindow=function(a){a.complete();var b=this.windows;b.splice(b.indexOf(a),1)},b}(x),F.prototype.windowTime=dk,fk=function(){function a(a,b){this.openings=a,this.closingSelector=b}return a.prototype.call=function(a,b){return b.subscribe(new gk(a,this.openings,this.closingSelector))},a}(),gk=function(a){function b(b,c,d){a.call(this,b),this.openings=c,this.closingSelector=d,this.contexts=[],this.add(this.openSubscription=db(this,c,c))}return c(b,a),b.prototype._next=function(a){var c,d,b=this.contexts;if(b)for(c=b.length,d=0;c>d;d++)b[d].window.next(a)},b.prototype._error=function(b){var d,e,f,c=this.contexts;if(this.contexts=null,c)for(d=c.length,e=-1;++e<d;)f=c[e],f.window.error(b),f.subscription.unsubscribe();a.prototype._error.call(this,b)},b.prototype._complete=function(){var c,d,e,b=this.contexts;if(this.contexts=null,b)for(c=b.length,d=-1;++d<c;)e=b[d],e.window.complete(),e.subscription.unsubscribe();a.prototype._complete.call(this)},b.prototype._unsubscribe=function(){var b,c,d,a=this.contexts;if(this.contexts=null,a)for(b=a.length,c=-1;++c<b;)d=a[c],d.window.unsubscribe(),d.subscription.unsubscribe()},b.prototype.notifyNext=function(a,b){var f,g,h,i,j,k;if(a===this.openings){if(f=this.closingSelector,g=q(f)(b),g===n)return this.error(n.e);h=new J,i=new s,j={window:h,subscription:i},this.contexts.push(j),k=db(this,g,j),k.closed?this.closeWindow(this.contexts.length-1):(k.context=j,i.add(k)),this.destination.next(h)}else this.closeWindow(this.contexts.indexOf(a))},b.prototype.notifyError=function(a){this.error(a)},b.prototype.notifyComplete=function(a){a!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(a.context))},b.prototype.closeWindow=function(a){var b,c,d,e;-1!==a&&(b=this.contexts,c=b[a],d=c.window,e=c.subscription,b.splice(a,1),d.complete(),e.unsubscribe())},b}(Z),F.prototype.windowToggle=hk,jk=function(){function a(a){this.closingSelector=a}return a.prototype.call=function(a,b){return b.subscribe(new kk(a,this.closingSelector))},a}(),kk=function(a){function b(b,c){a.call(this,b),this.destination=b,this.closingSelector=c,this.openWindow()}return c(b,a),b.prototype.notifyNext=function(a,b,c,d,e){this.openWindow(e)},b.prototype.notifyError=function(a){this._error(a)},b.prototype.notifyComplete=function(a){this.openWindow(a)},b.prototype._next=function(a){this.window.next(a)},b.prototype._error=function(a){this.window.error(a),this.destination.error(a),this.unsubscribeClosingNotification()},b.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},b.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},b.prototype.openWindow=function(a){var b,c,d,e;void 0===a&&(a=null),a&&(this.remove(a),a.unsubscribe()),b=this.window,b&&b.complete(),c=this.window=new J,this.destination.next(c),d=q(this.closingSelector)(),d===n?(e=n.e,this.destination.error(e),this.window.error(e)):this.add(this.closingNotification=db(this,d))},b}(Z),F.prototype.windowWhen=lk,nk=function(){function a(a,b){this.observables=a,this.project=b}return a.prototype.call=function(a,b){return b.subscribe(new ok(a,this.observables,this.project))},a}(),ok=function(a){function b(b,c,d){var e,f,g;for(a.call(this,b),this.observables=c,this.project=d,this.toRespond=[],e=c.length,this.values=new Array(e),f=0;e>f;f++)this.toRespond.push(f);for(f=0;e>f;f++)g=c[f],this.add(db(this,g,g,f))}return c(b,a),b.prototype.notifyNext=function(a,b,c){var f,g;this.values[c]=b,f=this.toRespond,f.length>0&&(g=f.indexOf(c),-1!==g&&f.splice(g,1))},b.prototype.notifyComplete=function(){},b.prototype._next=function(a){if(0===this.toRespond.length){var b=[a].concat(this.values);this.project?this._tryProject(b):this.destination.next(b)}},b.prototype._tryProject=function(a){var b;try{b=this.project.apply(this,a)}catch(c){return this.destination.error(c),void 0}this.destination.next(b)},b}(Z),F.prototype.withLatestFrom=pk,F.prototype.zip=qk,F.prototype.zipAll=sk,tk=function(){function a(a,b){void 0===b&&(b=Number.POSITIVE_INFINITY),this.subscribedFrame=a,this.unsubscribedFrame=b}return a}(),uk=function(){function a(){this.subscriptions=[]}return a.prototype.logSubscribedFrame=function(){return this.subscriptions.push(new tk(this.scheduler.now())),this.subscriptions.length-1},a.prototype.logUnsubscribedFrame=function(a){var b=this.subscriptions,c=b[a];b[a]=new tk(c.subscribedFrame,this.scheduler.now())},a}(),wk=function(a){function b(b,c){a.call(this,function(a){var b=this,c=b.logSubscribedFrame();return a.add(new s(function(){b.logUnsubscribedFrame(c)})),b.scheduleMessages(a),a}),this.messages=b,this.subscriptions=[],this.scheduler=c}return c(b,a),b.prototype.scheduleMessages=function(a){var c,d,b=this.messages.length;for(c=0;b>c;c++)d=this.messages[c],a.add(this.scheduler.schedule(function(a){var b=a.message,c=a.subscriber;b.notification.observe(c)},d.frame,{message:d,subscriber:a}))},b}(F),vk(wk,[uk]),xk=function(a){function b(b,c){a.call(this),this.messages=b,this.subscriptions=[],this.scheduler=c}return c(b,a),b.prototype._subscribe=function(b){var c=this,d=c.logSubscribedFrame();return b.add(new s(function(){c.logUnsubscribedFrame(d)})),a.prototype._subscribe.call(this,b)},b.prototype.setup=function(){var c,a=this,b=a.messages.length;for(c=0;b>c;c++)!function(){var b=a.messages[c];a.scheduler.schedule(function(){b.notification.observe(a)},b.frame)}()},b}(J),vk(xk,[uk]),yk=function(a){function b(b,c){var d=this;void 0===b&&(b=zk),void 0===c&&(c=Number.POSITIVE_INFINITY),a.call(this,b,function(){return d.frame}),this.maxFrames=c,this.frame=0,this.index=-1}return c(b,a),b.prototype.flush=function(){for(var d,e,a=this,b=a.actions,c=a.maxFrames;(e=b.shift())&&(this.frame=e.delay)<=c&&!(d=e.execute(e.state,e.delay)););if(d){for(;e=b.shift();)e.unsubscribe();throw d}},b.frameTimeFactor=10,b}(kc),zk=function(a){function b(b,c,d){void 0===d&&(d=b.index+=1),a.call(this,b,c),this.scheduler=b,this.work=c,this.index=d,this.active=!0,this.index=b.index=d}return c(b,a),b.prototype.schedule=function(c,d){if(void 0===d&&(d=0),!this.id)return a.prototype.schedule.call(this,c,d);this.active=!1;var e=new b(this.scheduler,this.work);return this.add(e),e.schedule(c,d)},b.prototype.requestAsyncId=function(a,c,d){void 0===d&&(d=0),this.delay=a.frame+d;var e=a.actions;return e.push(this),e.sort(b.sortActions),!0},b.prototype.recycleAsyncId=function(a,b,c){return void 0===c&&(c=0),void 0},b.prototype._execute=function(b,c){return this.active===!0?a.prototype._execute.call(this,b,c):void 0},b.sortActions=function(a,b){return a.delay===b.delay?a.index===b.index?0:a.index>b.index?1:-1:a.delay>b.delay?1:-1},b}(ic),Ak=750,Bk=function(a){function b(b){a.call(this,zk,Ak),this.assertDeepEqual=b,this.hotObservables=[],this.coldObservables=[],this.flushTests=[]}return c(b,a),b.prototype.createTime=function(a){var c=a.indexOf("|");if(-1===c)throw new Error('marble diagram for time should have a completion marker "|"');return c*b.frameTimeFactor},b.prototype.createColdObservable=function(a,c,d){var e,f;if(-1!==a.indexOf("^"))throw new Error('cold observable cannot have subscription offset "^"');if(-1!==a.indexOf("!"))throw new Error('cold observable cannot have unsubscription marker "!"');return e=b.parseMarbles(a,c,d),f=new wk(e,this),this.coldObservables.push(f),f},b.prototype.createHotObservable=function(a,c,d){var e,f;if(-1!==a.indexOf("!"))throw new Error('hot observable cannot have unsubscription marker "!"');return e=b.parseMarbles(a,c,d),f=new xk(e,this),this.hotObservables.push(f),f},b.prototype.materializeInnerObservable=function(a,b){var c=this,d=[];return a.subscribe(function(a){d.push({frame:c.frame-b,notification:wb.createNext(a)})},function(a){d.push({frame:c.frame-b,notification:wb.createError(a)})},function(){d.push({frame:c.frame-b,notification:wb.createComplete()})}),d},b.prototype.expectObservable=function(a,c){var e,f,g,h,d=this;return void 0===c&&(c=null),e=[],f={actual:e,ready:!1},g=b.parseMarblesAsSubscriptions(c).unsubscribedFrame,this.schedule(function(){h=a.subscribe(function(a){var b=a;a instanceof F&&(b=d.materializeInnerObservable(b,d.frame)),e.push({frame:d.frame,notification:wb.createNext(b)})},function(a){e.push({frame:d.frame,notification:wb.createError(a)})},function(){e.push({frame:d.frame,notification:wb.createComplete()})})},0),g!==Number.POSITIVE_INFINITY&&this.schedule(function(){return h.unsubscribe()},g),this.flushTests.push(f),{toBe:function(a,c,d){f.ready=!0,f.expected=b.parseMarbles(a,c,d,!0)}}},b.prototype.expectSubscriptions=function(a){var c={actual:a,ready:!1};return this.flushTests.push(c),{toBe:function(a){var d="string"==typeof a?[a]:a;c.ready=!0,c.expected=d.map(function(a){return b.parseMarblesAsSubscriptions(a)})}}},b.prototype.flush=function(){for(var c,d,b=this.hotObservables;b.length>0;)b.shift().setup();for(a.prototype.flush.call(this),c=this.flushTests.filter(function(a){return a.ready});c.length>0;)d=c.shift(),this.assertDeepEqual(d.actual,d.expected)},b.parseMarblesAsSubscriptions=function(a){var b,c,d,e,f,g,h;if("string"!=typeof a)return new tk(Number.POSITIVE_INFINITY);for(b=a.length,c=-1,d=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,f=0;b>f;f++)switch(g=f*this.frameTimeFactor,h=a[f]){case"-":case" ":break;case"(":c=g;break;case")":c=-1;break;case"^":if(d!==Number.POSITIVE_INFINITY)throw new Error("found a second subscription point '^' in a subscription marble diagram. There can only be one.");d=c>-1?c:g;break;case"!":if(e!==Number.POSITIVE_INFINITY)throw new Error("found a second subscription point '^' in a subscription marble diagram. There can only be one.");e=c>-1?c:g;break;default:throw new Error("there can only be '^' and '!' markers in a subscription marble diagram. Found instead '"+h+"'.")}return 0>e?new tk(d):new tk(d,e)},b.parseMarbles=function(a,b,c,d){var e,f,g,h,i,j,k,l,m,n;if(void 0===d&&(d=!1),-1!==a.indexOf("!"))throw new Error('conventional marble diagrams cannot have the unsubscription marker "!"');for(e=a.length,f=[],g=a.indexOf("^"),h=-1===g?0:g*-this.frameTimeFactor,i="object"!=typeof b?function(a){return a}:function(a){return d&&b[a]instanceof wk?b[a].messages:b[a]},j=-1,k=0;e>k;k++){switch(l=k*this.frameTimeFactor+h,m=void 0,n=a[k]){case"-":case" ":break;case"(":j=l;break;case")":j=-1;break;case"|":m=wb.createComplete();break;case"^":break;case"#":m=wb.createError(c||"error");break;default:m=wb.createNext(i(n))}m&&f.push({frame:j>-1?j:l,notification:m})}return f},b}(yk),Ck=function(){function a(a){a.requestAnimationFrame?(this.cancelAnimationFrame=a.cancelAnimationFrame.bind(a),this.requestAnimationFrame=a.requestAnimationFrame.bind(a)):a.mozRequestAnimationFrame?(this.cancelAnimationFrame=a.mozCancelAnimationFrame.bind(a),this.requestAnimationFrame=a.mozRequestAnimationFrame.bind(a)):a.webkitRequestAnimationFrame?(this.cancelAnimationFrame=a.webkitCancelAnimationFrame.bind(a),this.requestAnimationFrame=a.webkitRequestAnimationFrame.bind(a)):a.msRequestAnimationFrame?(this.cancelAnimationFrame=a.msCancelAnimationFrame.bind(a),this.requestAnimationFrame=a.msRequestAnimationFrame.bind(a)):a.oRequestAnimationFrame?(this.cancelAnimationFrame=a.oCancelAnimationFrame.bind(a),this.requestAnimationFrame=a.oRequestAnimationFrame.bind(a)):(this.cancelAnimationFrame=a.clearTimeout.bind(a),this.requestAnimationFrame=function(b){return a.setTimeout(b,1e3/60)})}return a}(),Dk=new Ck(j),Ek=function(a){function b(b,c){a.call(this,b,c),this.scheduler=b,this.work=c}return c(b,a),b.prototype.requestAsyncId=function(b,c,d){return void 0===d&&(d=0),null!==d&&d>0?a.prototype.requestAsyncId.call(this,b,c,d):(b.actions.push(this),b.scheduled||(b.scheduled=Dk.requestAnimationFrame(b.flush.bind(b,null))))},b.prototype.recycleAsyncId=function(b,c,d){return void 0===d&&(d=0),null!==d&&d>0||null===d&&this.delay>0?a.prototype.recycleAsyncId.call(this,b,c,d):(0===b.actions.length&&(Dk.cancelAnimationFrame(c),b.scheduled=void 0),void 0)},b}(ic),Fk=function(a){function b(){a.apply(this,arguments)}return c(b,a),b.prototype.flush=function(a){var b,c,d,e;this.active=!0,this.scheduled=void 0,b=this.actions,d=-1,e=b.length,a=a||b.shift();do if(c=a.execute(a.state,a.delay))break;while(++d<e&&(a=b.shift()));if(this.active=!1,c){for(;++d<e&&(a=b.shift());)a.unsubscribe();throw c}},b}(kc),Gk=new Fk(Ek),Hk=Object.freeze({audit:bg,auditTime:fg,buffer:vd,bufferCount:zd,bufferTime:Ed,bufferToggle:Md,bufferWhen:Qd,catchError:Ud,combineAll:Yd,combineLatest:fb,concat:_d,concatAll:Ib,concatMap:ce,concatMapTo:ee,count:ge,debounce:oe,debounceTime:se,defaultIfEmpty:xe,delay:Be,delayWhen:Ge,dematerialize:ke,distinct:Oe,distinctUntilChanged:Se,distinctUntilKeyChanged:We,elementAt:of,every:mg,exhaust:af,exhaustMap:ef,expand:jf,filter:sf,finalize:wf,find:Af,findIndex:Ef,first:Hf,groupBy:Of,ignoreElements:Vf,isEmpty:Zf,last:hg,map:Uc,mapTo:rg,materialize:vg,max:Gg,merge:Ig,mergeAll:Hb,mergeMap:Db,flatMap:Db,mergeMapTo:Mg,mergeScan:Qg,min:Ug,multicast:ch,observeOn:xb,onErrorResumeNext:uc,pairwise:hh,partition:mh,pluck:oh,publish:rh,publishBehavior:uh,publishLast:yh,publishReplay:wh,race:Ah,reduce:Fg,repeat:Dh,repeatWhen:Hh,retry:Lh,retryWhen:Ph,refCount:Wg,sample:Th,sampleTime:Xh,scan:zg,sequenceEqual:bi,share:hi,shareReplay:ji,single:mi,skip:qi,skipLast:ui,skipUntil:yi,skipWhile:Ci,startWith:Gi,switchAll:Ui,switchMap:Ri,switchMapTo:Xi,take:_i,takeLast:Cg,takeUntil:ej,takeWhile:ij,tap:Ye,throttle:nj,throttleTime:rj,timeInterval:wj,timeout:Cj,timeoutWith:Gj,timestamp:Kj,toArray:Oj,window:Qj,windowCount:Uj,windowTime:Yj,windowToggle:ek,windowWhen:ik,withLatestFrom:mk,zip:Mc,zipAll:rk}),Ik=Hk,Jk={asap:Mi,queue:nd,animationFrame:Gk,async:lc},Kk={rxSubscriber:w,observable:B,iterator:bb},a.operators=Ik,a.Scheduler=Jk,a.Symbol=Kk,a.Subject=J,a.AnonymousSubject=K,a.Observable=F,a.Subscription=s,a.Subscriber=x,a.AsyncSubject=L,a.ReplaySubject=od,a.BehaviorSubject=th,a.ConnectableObservable=Zg,a.Notification=wb,a.EmptyError=Gf,a.ArgumentOutOfRangeError=nf,a.ObjectUnsubscribedError=G,a.TimeoutError=Bj,a.UnsubscriptionError=r,a.TimeInterval=xj,a.Timestamp=Lj,a.TestScheduler=Bk,a.VirtualTimeScheduler=yk,a.AjaxResponse=gd,a.AjaxError=hd,a.AjaxTimeoutError=jd,a.pipe=D,Object.defineProperty(a,"__esModule",{value:!0})});